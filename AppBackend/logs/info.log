INFO 2025-05-14 22:01:10,039 autoreload 2648 32072 Watching for file changes with StatReloader
INFO 2025-05-14 22:01:11,336 wsgi 2648 14156 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 22:01:11,336 wsgi 2648 14156 Environment: config.settings
INFO 2025-05-14 22:01:11,336 wsgi 2648 14156 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 22:01:11,340 wsgi 2648 14156 Application initialized successfully
ERROR 2025-05-14 22:01:20,716 basehttp 2648 7036 "GET /api/shopping-list/ HTTP/1.1" 500 28391
INFO 2025-05-14 22:04:08,912 autoreload 2648 32072 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\models\shopping_list.py changed, reloading.
INFO 2025-05-14 22:04:09,841 autoreload 7980 2292 Watching for file changes with StatReloader
INFO 2025-05-14 22:04:11,348 wsgi 7980 23304 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 22:04:11,348 wsgi 7980 23304 Environment: config.settings
INFO 2025-05-14 22:04:11,348 wsgi 7980 23304 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 22:04:11,353 wsgi 7980 23304 Application initialized successfully
INFO 2025-05-14 22:04:30,872 autoreload 7980 2292 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\serializers\shopping_list.py changed, reloading.
INFO 2025-05-14 22:04:31,809 autoreload 3980 28244 Watching for file changes with StatReloader
INFO 2025-05-14 22:04:33,461 wsgi 3980 24252 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 22:04:33,461 wsgi 3980 24252 Environment: config.settings
INFO 2025-05-14 22:04:33,461 wsgi 3980 24252 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 22:04:33,465 wsgi 3980 24252 Application initialized successfully
INFO 2025-05-14 22:04:49,682 autoreload 3980 28244 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\views\shopping_list.py changed, reloading.
INFO 2025-05-14 22:04:50,350 autoreload 31292 15168 Watching for file changes with StatReloader
INFO 2025-05-14 22:04:51,944 wsgi 31292 1016 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 22:04:51,944 wsgi 31292 1016 Environment: config.settings
INFO 2025-05-14 22:04:51,944 wsgi 31292 1016 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 22:04:51,950 wsgi 31292 1016 Application initialized successfully
INFO 2025-05-14 23:35:14,534 views 31292 28248 Profile accessed: user_id=66
INFO 2025-05-14 23:35:14,618 basehttp 31292 28248 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:35:14,725 ingredient 31292 28248 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:35:14,747 basehttp 31292 28248 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:35:14,819 views 31292 28248 Profile accessed: user_id=66
INFO 2025-05-14 23:35:14,831 basehttp 31292 28248 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:35:14,956 allergen 31292 28248 Listing all allergens: user_id=66
INFO 2025-05-14 23:35:14,961 allergen 31292 28248 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:35:14,971 basehttp 31292 28248 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 23:35:15,049 equipment 31292 28248 Listing all equipment: user_id=66
INFO 2025-05-14 23:35:15,055 equipment 31292 28248 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-14 23:35:15,065 basehttp 31292 28248 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 23:35:15,138 ingredient 31292 28248 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:35:15,182 ingredient 31292 28248 Retrieved 7 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-14 23:35:15,227 basehttp 31292 28248 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:35:15,342 recipe 31292 28248 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:35:15,544 basehttp 31292 28248 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:35:15,625 recipe 31292 28248 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:35:15,829 basehttp 31292 28248 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:35:16,009 basehttp 31292 28248 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-14 23:35:16,138 ingredient 31292 28248 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:35:16,198 ingredient 31292 28248 Retrieved 7 refrigerator ingredients for user_id=66, time=0.06s
INFO 2025-05-14 23:35:16,272 basehttp 31292 28248 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:35:16,346 allergen 31292 28248 Listing user allergens: user_id=66
INFO 2025-05-14 23:35:16,353 allergen 31292 28248 Retrieved 1 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 23:35:16,367 basehttp 31292 28248 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-14 23:35:16,514 equipment 31292 28248 Listing user equipment: user_id=66
INFO 2025-05-14 23:35:16,521 equipment 31292 28248 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 23:35:16,535 basehttp 31292 28248 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 23:35:16,646 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-14 23:35:16,706 shopping_list 31292 28248 Retrieved 0 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:16,720 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 24
INFO 2025-05-14 23:35:20,275 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-14 23:35:20,356 shopping_list 31292 28248 Retrieved 0 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:20,368 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 24
INFO 2025-05-14 23:35:25,126 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-14 23:35:25,179 shopping_list 31292 28248 Adding item to shopping list: user_id=66
INFO 2025-05-14 23:35:25,220 shopping_list 31292 28248 Added new item to shopping list: item_id=251, type='Авокадо', quantity=500 grams, user_id=66, time=0.04s
INFO 2025-05-14 23:35:25,238 basehttp 31292 28248 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 241
INFO 2025-05-14 23:35:25,483 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 267
INFO 2025-05-14 23:35:25,535 shopping_list 31292 28248 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:25,548 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 265
INFO 2025-05-14 23:35:34,699 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 267
INFO 2025-05-14 23:35:34,764 shopping_list 31292 28248 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:34,777 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 265
INFO 2025-05-14 23:35:36,801 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 267
INFO 2025-05-14 23:35:36,886 shopping_list 31292 28248 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:36,899 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 265
INFO 2025-05-14 23:35:41,696 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 267
INFO 2025-05-14 23:35:41,744 shopping_list 31292 28248 Adding item to shopping list: user_id=66
INFO 2025-05-14 23:35:41,761 shopping_list 31292 28248 Updated existing item quantity: item_id=251, type='Авокадо', old_quantity=500, new_quantity=1000, user_id=66
INFO 2025-05-14 23:35:41,775 basehttp 31292 28248 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 200 242
INFO 2025-05-14 23:35:41,910 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 268
INFO 2025-05-14 23:35:41,975 shopping_list 31292 28248 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:41,989 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 266
INFO 2025-05-14 23:35:44,284 basehttp 31292 28248 "GET /api/shopping-list/ HTTP/1.1" 200 268
INFO 2025-05-14 23:35:44,349 shopping_list 31292 28248 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:35:44,364 basehttp 31292 28248 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 266
INFO 2025-05-14 23:37:38,006 basehttp 31292 24528 "GET /api/shopping-list/ HTTP/1.1" 200 268
INFO 2025-05-14 23:37:38,099 shopping_list 31292 24528 Adding item to shopping list: user_id=66
INFO 2025-05-14 23:37:38,113 shopping_list 31292 24528 Added new item to shopping list: item_id=252, type='Баклажан', quantity=500 grams, user_id=66, time=0.02s
INFO 2025-05-14 23:37:38,132 basehttp 31292 24528 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 243
INFO 2025-05-14 23:37:38,288 basehttp 31292 24528 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:37:38,347 shopping_list 31292 24528 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:37:38,363 basehttp 31292 24528 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:39:28,636 basehttp 31292 20704 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:39:28,675 shopping_list 31292 20704 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:39:28,692 basehttp 31292 20704 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:39:44,910 basehttp 31292 6976 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:39:44,983 shopping_list 31292 6976 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:39:45,004 basehttp 31292 6976 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:39:47,036 basehttp 31292 6976 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:39:47,096 shopping_list 31292 6976 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:39:47,118 basehttp 31292 6976 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:39:49,209 basehttp 31292 6976 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:39:49,272 shopping_list 31292 6976 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:39:49,292 basehttp 31292 6976 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:40:00,127 basehttp 31292 6976 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:40:00,202 shopping_list 31292 6976 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:40:00,222 basehttp 31292 6976 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:40:25,172 basehttp 31292 6392 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:40:25,214 shopping_list 31292 6392 Adding item to shopping list: user_id=66
INFO 2025-05-14 23:40:25,226 shopping_list 31292 6392 Updated existing item quantity: item_id=251, type='Авокадо', old_quantity=1000, new_quantity=1500, user_id=66
INFO 2025-05-14 23:40:25,240 basehttp 31292 6392 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 200 242
INFO 2025-05-14 23:40:25,563 basehttp 31292 6392 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:40:25,606 shopping_list 31292 6392 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:40:25,620 basehttp 31292 6392 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:43:02,916 basehttp 31292 15864 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:43:02,975 shopping_list 31292 15864 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-14 23:43:03,004 basehttp 31292 15864 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:43:12,158 views 31292 30656 Profile accessed: user_id=66
INFO 2025-05-14 23:43:12,169 basehttp 31292 30656 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:43:12,250 ingredient 31292 30656 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:43:12,266 basehttp 31292 30656 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:43:12,363 views 31292 30656 Profile accessed: user_id=66
INFO 2025-05-14 23:43:12,381 basehttp 31292 30656 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:43:12,519 allergen 31292 30656 Listing all allergens: user_id=66
INFO 2025-05-14 23:43:12,521 allergen 31292 30656 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:43:12,534 basehttp 31292 30656 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 23:43:12,620 equipment 31292 30656 Listing all equipment: user_id=66
INFO 2025-05-14 23:43:12,624 equipment 31292 30656 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-14 23:43:12,638 basehttp 31292 30656 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 23:43:12,745 ingredient 31292 30656 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:43:12,783 ingredient 31292 30656 Retrieved 7 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-14 23:43:12,812 basehttp 31292 30656 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:43:13,009 recipe 31292 30656 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:43:13,236 basehttp 31292 30656 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:43:13,342 recipe 31292 30656 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:43:13,520 basehttp 31292 30656 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:43:13,700 basehttp 31292 30656 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-14 23:43:13,782 ingredient 31292 30656 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:43:13,812 ingredient 31292 30656 Retrieved 7 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 23:43:13,873 basehttp 31292 30656 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:43:13,968 allergen 31292 30656 Listing user allergens: user_id=66
INFO 2025-05-14 23:43:13,973 allergen 31292 30656 Retrieved 1 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 23:43:13,988 basehttp 31292 30656 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-14 23:43:14,093 equipment 31292 30656 Listing user equipment: user_id=66
INFO 2025-05-14 23:43:14,100 equipment 31292 30656 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 23:43:14,119 basehttp 31292 30656 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 23:43:14,288 basehttp 31292 30656 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:43:14,340 shopping_list 31292 30656 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:43:14,362 basehttp 31292 30656 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:43:16,693 basehttp 31292 30656 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:43:16,790 shopping_list 31292 30656 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:43:16,813 basehttp 31292 30656 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:43:53,733 views 31292 11284 Profile accessed: user_id=66
INFO 2025-05-14 23:43:53,743 basehttp 31292 11284 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:43:53,855 ingredient 31292 11284 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:43:53,868 basehttp 31292 11284 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:43:54,009 views 31292 11284 Profile accessed: user_id=66
INFO 2025-05-14 23:43:54,019 basehttp 31292 11284 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:43:54,101 allergen 31292 11284 Listing all allergens: user_id=66
INFO 2025-05-14 23:43:54,103 allergen 31292 11284 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:43:54,113 basehttp 31292 11284 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 23:43:54,231 equipment 31292 11284 Listing all equipment: user_id=66
INFO 2025-05-14 23:43:54,234 equipment 31292 11284 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-14 23:43:54,245 basehttp 31292 11284 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 23:43:54,352 ingredient 31292 11284 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:43:54,381 ingredient 31292 11284 Retrieved 7 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 23:43:54,400 basehttp 31292 11284 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:43:54,493 recipe 31292 11284 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:43:54,672 basehttp 31292 11284 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:43:54,855 recipe 31292 11284 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:43:54,966 basehttp 31292 11284 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:43:55,081 basehttp 31292 11284 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-14 23:43:55,163 ingredient 31292 11284 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:43:55,202 ingredient 31292 11284 Retrieved 7 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-14 23:43:55,256 basehttp 31292 11284 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:43:55,333 allergen 31292 11284 Listing user allergens: user_id=66
INFO 2025-05-14 23:43:55,337 allergen 31292 11284 Retrieved 1 user allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:43:55,349 basehttp 31292 11284 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-14 23:43:55,471 equipment 31292 11284 Listing user equipment: user_id=66
INFO 2025-05-14 23:43:55,478 equipment 31292 11284 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 23:43:55,490 basehttp 31292 11284 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 23:43:56,049 basehttp 31292 11284 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:43:56,132 shopping_list 31292 11284 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-14 23:43:56,171 basehttp 31292 11284 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
WARNING 2025-05-14 23:44:27,062 basehttp 31292 16208 "GET /api/shopping-list/ HTTP/1.1" 401 82
INFO 2025-05-14 23:44:27,919 views 31292 17824 Registration attempt: email=test_khuw7f19@example.com
INFO 2025-05-14 23:44:28,374 views 31292 17824 User registered successfully: user_id=118, email=test_khuw7f19@example.com, time=0.46s
INFO 2025-05-14 23:44:28,396 basehttp 31292 17824 "POST /api/users/register/ HTTP/1.1" 201 233
INFO 2025-05-14 23:44:28,456 views 31292 2976 Login attempt: email=test_khuw7f19@example.com
INFO 2025-05-14 23:44:28,796 views 31292 2976 User login successful: user_id=118, email=test_khuw7f19@example.com, time=0.34s
INFO 2025-05-14 23:44:28,811 basehttp 31292 2976 "POST /api/users/login/ HTTP/1.1" 200 233
INFO 2025-05-14 23:44:28,930 views 31292 28800 Profile accessed: user_id=118
INFO 2025-05-14 23:44:28,951 basehttp 31292 28800 "GET /api/users/profile/ HTTP/1.1" 200 173
INFO 2025-05-14 23:44:29,021 ingredient 31292 8876 Listing refrigerator ingredients: user_id=118
INFO 2025-05-14 23:44:29,036 ingredient 31292 8876 Retrieved 0 refrigerator ingredients for user_id=118, time=0.02s
INFO 2025-05-14 23:44:29,067 basehttp 31292 8876 "GET /api/refrigerator/ HTTP/1.1" 200 80
INFO 2025-05-14 23:44:29,163 basehttp 31292 2076 "GET /api/favorites/ HTTP/1.1" 200 2
INFO 2025-05-14 23:44:29,238 allergen 31292 14048 Listing all allergens: user_id=118
INFO 2025-05-14 23:44:29,241 allergen 31292 14048 Retrieved unknown allergens, user_id=118, time=0.00s
INFO 2025-05-14 23:44:29,256 basehttp 31292 14048 "GET /api/allergens/ HTTP/1.1" 200 2058
INFO 2025-05-14 23:44:29,310 equipment 31292 16188 Listing all equipment: user_id=118
INFO 2025-05-14 23:44:29,315 equipment 31292 16188 Retrieved unknown equipment items, user_id=118, time=0.01s
INFO 2025-05-14 23:44:29,326 basehttp 31292 16188 "GET /api/equipment/ HTTP/1.1" 200 15147
INFO 2025-05-14 23:44:29,402 views 31292 21736 Logout attempt: user_id=118
INFO 2025-05-14 23:44:29,407 views 31292 21736 User logged out successfully: user_id=118
INFO 2025-05-14 23:44:29,418 basehttp 31292 21736 "POST /api/users/logout/ HTTP/1.1" 200 16
INFO 2025-05-14 23:44:52,722 views 31292 22200 Login attempt: email=w0rkma1lmoc@gmail.com
INFO 2025-05-14 23:44:52,961 views 31292 22200 User login successful: user_id=66, email=w0rkma1lmoc@gmail.com, time=0.24s
INFO 2025-05-14 23:44:52,975 basehttp 31292 22200 "POST /api/users/login/ HTTP/1.1" 200 213
INFO 2025-05-14 23:44:53,182 ingredient 31292 22200 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:44:53,199 basehttp 31292 22200 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:44:53,322 views 31292 22200 Profile accessed: user_id=66
INFO 2025-05-14 23:44:53,334 basehttp 31292 22200 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-14 23:44:53,445 allergen 31292 22200 Listing all allergens: user_id=66
INFO 2025-05-14 23:44:53,448 allergen 31292 22200 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:44:53,458 basehttp 31292 22200 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 23:44:53,601 equipment 31292 22200 Listing all equipment: user_id=66
INFO 2025-05-14 23:44:53,604 equipment 31292 22200 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-14 23:44:53,614 basehttp 31292 22200 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 23:44:53,694 recipe 31292 22200 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 23:44:53,865 basehttp 31292 22200 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-14 23:44:54,040 basehttp 31292 22200 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-14 23:44:54,115 ingredient 31292 22200 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 23:44:54,144 ingredient 31292 22200 Retrieved 7 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 23:44:54,184 basehttp 31292 22200 "GET /api/refrigerator/ HTTP/1.1" 200 4019
INFO 2025-05-14 23:44:54,344 allergen 31292 22200 Listing all allergens: user_id=66
INFO 2025-05-14 23:44:54,348 allergen 31292 22200 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:44:54,360 basehttp 31292 22200 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 23:44:54,420 equipment 31292 22200 Listing all equipment: user_id=66
INFO 2025-05-14 23:44:54,424 equipment 31292 22200 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-14 23:44:54,435 basehttp 31292 22200 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 23:44:54,528 allergen 31292 22200 Listing user allergens: user_id=66
INFO 2025-05-14 23:44:54,532 allergen 31292 22200 Retrieved 1 user allergens, user_id=66, time=0.00s
INFO 2025-05-14 23:44:54,543 basehttp 31292 22200 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-14 23:44:57,705 basehttp 31292 22200 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:44:57,808 basehttp 31292 22200 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:44:57,871 shopping_list 31292 22200 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:44:57,890 basehttp 31292 22200 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:45:04,603 recipe 31292 22200 Recipe viewed: recipe_id=17, title='Салат Капрезе', user_id=66
INFO 2025-05-14 23:45:04,653 basehttp 31292 22200 "GET /api/recipes/17/ HTTP/1.1" 200 1193
INFO 2025-05-14 23:45:07,134 recipe 31292 22200 Recipe viewed: recipe_id=46, title='Утиный конфи', user_id=66
INFO 2025-05-14 23:45:07,159 basehttp 31292 22200 "GET /api/recipes/46/ HTTP/1.1" 200 800
INFO 2025-05-14 23:45:56,947 ingredient 31292 18272 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:45:56,961 basehttp 31292 18272 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:46:00,591 ingredient 31292 18272 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:46:00,603 basehttp 31292 18272 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:46:03,432 ingredient 31292 18272 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:46:03,443 basehttp 31292 18272 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:46:14,283 basehttp 31292 18272 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:46:14,345 shopping_list 31292 18272 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:46:14,362 basehttp 31292 18272 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:46:15,878 ingredient 31292 18272 Getting refrigerator categories: user_id=66
INFO 2025-05-14 23:46:15,884 ingredient 31292 18272 Found 7 categories in refrigerator for user_id=66, time=0.01s
INFO 2025-05-14 23:46:15,895 basehttp 31292 18272 "GET /api/refrigerator/categories/ HTTP/1.1" 200 1128
INFO 2025-05-14 23:46:16,315 basehttp 31292 18272 "GET /api/shopping-list/ HTTP/1.1" 200 512
INFO 2025-05-14 23:46:16,403 shopping_list 31292 18272 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:46:16,423 basehttp 31292 18272 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 510
INFO 2025-05-14 23:46:59,052 shopping_list 31292 30812 Removing item from shopping list: item_id=251, user_id=66
INFO 2025-05-14 23:46:59,060 shopping_list 31292 30812 Item removed from shopping list: item_id=251, type='Авокадо', user_id=66, time=0.01s
INFO 2025-05-14 23:46:59,077 basehttp 31292 30812 "POST /api/shopping-list/0/remove_item/ HTTP/1.1" 204 0
INFO 2025-05-14 23:47:21,673 shopping_list 31292 15408 Clearing all items from shopping list: user_id=66
INFO 2025-05-14 23:47:21,681 shopping_list 31292 15408 Cleared all 1 items from shopping list: user_id=66, time=0.01s
INFO 2025-05-14 23:47:21,696 basehttp 31292 15408 "POST /api/shopping-list/0/clear_all/ HTTP/1.1" 200 19
INFO 2025-05-14 23:47:57,844 basehttp 31292 32096 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-14 23:47:57,922 shopping_list 31292 32096 Retrieved 0 shopping list items for user_id=66, time=0.00s
INFO 2025-05-14 23:47:57,937 basehttp 31292 32096 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 24
INFO 2025-05-14 23:48:10,308 views 31292 32096 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 23:48:23,735 views 31292 32096 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 23:48:23,742 views 31292 32096 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 23:48:23,743 ai_helper 31292 32096 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 23:48:24,388 ai_helper 31292 32096 Клиент OpenAI успешно инициализирован, время: 0.64s
INFO 2025-05-14 23:48:24,389 ai_helper 31292 32096 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 23:48:26,823 ai_helper 31292 32096 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница', 'Глютен'], время: 2.43s
INFO 2025-05-14 23:48:26,823 views 31292 32096 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 16.52s
INFO 2025-05-14 23:48:26,838 basehttp 31292 32096 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1182
INFO 2025-05-14 23:48:27,999 ingredient 31292 32096 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:48:28,018 basehttp 31292 32096 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:48:32,612 ingredient 31292 32096 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:48:32,627 basehttp 31292 32096 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:48:33,988 ingredient 31292 32096 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:48:34,004 basehttp 31292 32096 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:48:36,296 ingredient 31292 32096 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:48:36,312 basehttp 31292 32096 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:48:37,903 ingredient 31292 32096 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 23:48:37,918 basehttp 31292 32096 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 23:48:39,986 ingredient 31292 32096 Creating new ingredient: user_id=66, data={'ing_name': 'Вафли Черноморские Топ Спартак', 'ing_exp_date': '2025-05-29', 'ing_weight': 100, 'ing_calories': 520, 'ing_protein': 6, 'ing_fat': 29, 'ing_hydrates': 60, 'ing_igt_id': 94, 'allergen_ids': [3, 4, 8, 9]}
INFO 2025-05-14 23:48:40,042 ingredient 31292 32096 Ingredient created successfully: ingredient_id=135, name='Вафли Черноморские Топ Спартак', type_id=94, user_id=66, time=0.06s
INFO 2025-05-14 23:48:40,087 basehttp 31292 32096 "POST /api/ingredients/ HTTP/1.1" 201 231
INFO 2025-05-14 23:48:40,180 ingredient 31292 32096 Adding ingredient to refrigerator: user_id=66
INFO 2025-05-14 23:48:40,198 ingredient 31292 32096 Ingredient added to refrigerator: ingredient_id=135, name='Вафли Черноморские Топ Спартак', quantity=87 grams, user_id=66, time=0.02s
INFO 2025-05-14 23:48:40,226 basehttp 31292 32096 "POST /api/refrigerator/ HTTP/1.1" 201 661
INFO 2025-05-15 00:04:15,976 autoreload 32304 32280 Watching for file changes with StatReloader
INFO 2025-05-15 00:04:17,722 wsgi 32304 17680 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-15 00:04:17,722 wsgi 32304 17680 Environment: config.settings
INFO 2025-05-15 00:04:17,722 wsgi 32304 17680 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-15 00:04:17,726 wsgi 32304 17680 Application initialized successfully
INFO 2025-05-15 00:06:29,892 views 32304 29420 Profile accessed: user_id=66
INFO 2025-05-15 00:06:29,949 basehttp 32304 29420 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:06:30,173 ingredient 32304 29420 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:06:30,189 basehttp 32304 29420 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:06:30,328 views 32304 29420 Profile accessed: user_id=66
INFO 2025-05-15 00:06:30,337 basehttp 32304 29420 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:06:30,544 allergen 32304 29420 Listing all allergens: user_id=66
INFO 2025-05-15 00:06:30,549 allergen 32304 29420 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:06:30,563 basehttp 32304 29420 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 00:06:30,652 equipment 32304 29420 Listing all equipment: user_id=66
INFO 2025-05-15 00:06:30,660 equipment 32304 29420 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-15 00:06:30,674 basehttp 32304 29420 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 00:06:30,834 ingredient 32304 29420 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:06:30,878 ingredient 32304 29420 Retrieved 8 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-15 00:06:30,924 basehttp 32304 29420 "GET /api/refrigerator/ HTTP/1.1" 200 4681
INFO 2025-05-15 00:06:31,044 recipe 32304 29420 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:06:31,242 basehttp 32304 29420 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:06:31,315 recipe 32304 29420 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:06:31,428 basehttp 32304 29420 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:06:31,543 basehttp 32304 29420 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-15 00:06:31,603 ingredient 32304 29420 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:06:31,637 ingredient 32304 29420 Retrieved 8 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-15 00:06:31,691 basehttp 32304 29420 "GET /api/refrigerator/ HTTP/1.1" 200 4681
INFO 2025-05-15 00:06:31,768 allergen 32304 29420 Listing user allergens: user_id=66
INFO 2025-05-15 00:06:31,774 allergen 32304 29420 Retrieved 1 user allergens, user_id=66, time=0.01s
INFO 2025-05-15 00:06:31,788 basehttp 32304 29420 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-15 00:06:31,906 equipment 32304 29420 Listing user equipment: user_id=66
INFO 2025-05-15 00:06:31,914 equipment 32304 29420 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-15 00:06:31,928 basehttp 32304 29420 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-15 00:06:32,036 basehttp 32304 29420 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-15 00:06:32,097 shopping_list 32304 29420 Retrieved 0 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:06:32,112 basehttp 32304 29420 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 24
INFO 2025-05-15 00:06:34,247 basehttp 32304 29420 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-15 00:06:34,287 shopping_list 32304 29420 Retrieved 0 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:06:34,299 basehttp 32304 29420 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 24
INFO 2025-05-15 00:07:02,821 basehttp 32304 25524 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-15 00:07:02,919 shopping_list 32304 25524 Adding item to shopping list: user_id=66
INFO 2025-05-15 00:07:02,939 shopping_list 32304 25524 Added new item to shopping list: item_id=253, type='Артишок', quantity=50 grams, user_id=66, time=0.02s
INFO 2025-05-15 00:07:02,956 basehttp 32304 25524 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 240
INFO 2025-05-15 00:07:03,213 basehttp 32304 25524 "GET /api/shopping-list/ HTTP/1.1" 200 266
INFO 2025-05-15 00:07:03,278 shopping_list 32304 25524 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:07:03,290 basehttp 32304 25524 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 264
INFO 2025-05-15 00:07:22,691 basehttp 32304 13964 "GET /api/shopping-list/ HTTP/1.1" 200 266
INFO 2025-05-15 00:07:22,755 shopping_list 32304 13964 Retrieved 1 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 00:07:22,768 basehttp 32304 13964 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 264
INFO 2025-05-15 00:07:23,982 basehttp 32304 13964 "GET /api/shopping-list/ HTTP/1.1" 200 266
INFO 2025-05-15 00:07:24,034 shopping_list 32304 13964 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:07:24,046 basehttp 32304 13964 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 264
INFO 2025-05-15 00:07:26,525 basehttp 32304 13964 "GET /api/shopping-list/ HTTP/1.1" 200 266
INFO 2025-05-15 00:07:26,581 shopping_list 32304 13964 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:07:26,594 basehttp 32304 13964 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 264
INFO 2025-05-15 00:07:46,664 basehttp 32304 4156 "GET /api/shopping-list/ HTTP/1.1" 200 266
INFO 2025-05-15 00:07:46,734 shopping_list 32304 4156 Adding item to shopping list: user_id=66
INFO 2025-05-15 00:07:46,744 shopping_list 32304 4156 Added new item to shopping list: item_id=254, type='Вафли', quantity=100 grams, user_id=66, time=0.01s
INFO 2025-05-15 00:07:46,761 basehttp 32304 4156 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 237
INFO 2025-05-15 00:07:46,964 basehttp 32304 4156 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:07:47,029 shopping_list 32304 4156 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:07:47,043 basehttp 32304 4156 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:07,161 views 32304 14560 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-15 00:08:19,947 views 32304 14560 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-15 00:08:19,954 views 32304 14560 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-15 00:08:19,954 ai_helper 32304 14560 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-15 00:08:20,233 ai_helper 32304 14560 Клиент OpenAI успешно инициализирован, время: 0.28s
INFO 2025-05-15 00:08:20,233 ai_helper 32304 14560 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-15 00:08:22,063 ai_helper 32304 14560 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница'], время: 1.83s
INFO 2025-05-15 00:08:22,063 views 32304 14560 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.90s
INFO 2025-05-15 00:08:22,073 basehttp 32304 14560 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1165
INFO 2025-05-15 00:08:23,214 ingredient 32304 14560 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:08:23,230 basehttp 32304 14560 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:08:27,025 ingredient 32304 14560 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:08:27,039 basehttp 32304 14560 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:08:31,165 ingredient 32304 14560 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:08:31,175 basehttp 32304 14560 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:08:32,941 ingredient 32304 14560 Creating new ingredient: user_id=66, data={'ing_name': 'Вафли Черноморские Топ Спартак', 'ing_exp_date': '2025-07-31', 'ing_weight': 100, 'ing_calories': 520, 'ing_protein': 6, 'ing_fat': 29, 'ing_hydrates': 60, 'ing_igt_id': 94, 'allergen_ids': [3, 4, 8]}
INFO 2025-05-15 00:08:32,974 ingredient 32304 14560 Ingredient created successfully: ingredient_id=136, name='Вафли Черноморские Топ Спартак', type_id=94, user_id=66, time=0.03s
INFO 2025-05-15 00:08:32,998 basehttp 32304 14560 "POST /api/ingredients/ HTTP/1.1" 201 231
INFO 2025-05-15 00:08:33,102 ingredient 32304 14560 Adding ingredient to refrigerator: user_id=66
INFO 2025-05-15 00:08:33,128 ingredient 32304 14560 Ingredient added to refrigerator: ingredient_id=136, name='Вафли Черноморские Топ Спартак', quantity=87 grams, user_id=66, time=0.03s
INFO 2025-05-15 00:08:33,149 basehttp 32304 14560 "POST /api/refrigerator/ HTTP/1.1" 201 622
INFO 2025-05-15 00:08:36,533 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:36,603 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:08:36,617 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:41,315 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:41,409 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:08:41,424 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:44,607 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:44,653 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:08:44,668 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:45,722 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:45,768 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:08:45,783 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:50,400 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:50,465 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:08:50,481 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:08:52,054 basehttp 32304 14560 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:08:52,122 shopping_list 32304 14560 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 00:08:52,137 basehttp 32304 14560 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:09:22,375 views 32304 14992 Profile accessed: user_id=66
INFO 2025-05-15 00:09:22,384 basehttp 32304 14992 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:09:22,452 ingredient 32304 14992 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:09:22,463 basehttp 32304 14992 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:09:22,532 views 32304 14992 Profile accessed: user_id=66
INFO 2025-05-15 00:09:22,541 basehttp 32304 14992 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:09:22,654 allergen 32304 14992 Listing all allergens: user_id=66
INFO 2025-05-15 00:09:22,656 allergen 32304 14992 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:09:22,665 basehttp 32304 14992 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 00:09:22,730 equipment 32304 14992 Listing all equipment: user_id=66
INFO 2025-05-15 00:09:22,733 equipment 32304 14992 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-15 00:09:22,743 basehttp 32304 14992 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 00:09:22,808 ingredient 32304 14992 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:09:22,839 ingredient 32304 14992 Retrieved 9 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-15 00:09:22,859 basehttp 32304 14992 "GET /api/refrigerator/ HTTP/1.1" 200 5304
INFO 2025-05-15 00:09:22,947 recipe 32304 14992 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:09:23,108 basehttp 32304 14992 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:09:23,200 recipe 32304 14992 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:09:23,302 basehttp 32304 14992 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:09:23,420 basehttp 32304 14992 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-15 00:09:23,493 ingredient 32304 14992 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:09:23,523 ingredient 32304 14992 Retrieved 9 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-15 00:09:23,568 basehttp 32304 14992 "GET /api/refrigerator/ HTTP/1.1" 200 5304
INFO 2025-05-15 00:09:23,648 allergen 32304 14992 Listing user allergens: user_id=66
INFO 2025-05-15 00:09:23,652 allergen 32304 14992 Retrieved 1 user allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:09:23,663 basehttp 32304 14992 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-15 00:09:23,755 equipment 32304 14992 Listing user equipment: user_id=66
INFO 2025-05-15 00:09:23,760 equipment 32304 14992 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-15 00:09:23,773 basehttp 32304 14992 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-15 00:09:23,884 basehttp 32304 14992 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:09:23,945 shopping_list 32304 14992 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:09:23,961 basehttp 32304 14992 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:09:26,922 basehttp 32304 14992 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:09:26,985 shopping_list 32304 14992 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:09:27,000 basehttp 32304 14992 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:09:29,764 basehttp 32304 14992 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:09:29,811 shopping_list 32304 14992 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:09:29,825 basehttp 32304 14992 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:12:31,245 basehttp 32304 15064 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:12:31,293 shopping_list 32304 15064 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:12:31,309 basehttp 32304 15064 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:43:17,234 views 32304 14492 Profile accessed: user_id=66
INFO 2025-05-15 00:43:17,267 basehttp 32304 14492 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:43:17,386 ingredient 32304 14492 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:43:17,414 basehttp 32304 14492 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:43:17,644 views 32304 14492 Profile accessed: user_id=66
INFO 2025-05-15 00:43:17,657 basehttp 32304 14492 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:43:17,796 allergen 32304 14492 Listing all allergens: user_id=66
INFO 2025-05-15 00:43:17,801 allergen 32304 14492 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:43:17,810 basehttp 32304 14492 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 00:43:17,873 equipment 32304 14492 Listing all equipment: user_id=66
INFO 2025-05-15 00:43:17,878 equipment 32304 14492 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-15 00:43:17,889 basehttp 32304 14492 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 00:43:17,967 ingredient 32304 14492 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:43:18,017 ingredient 32304 14492 Retrieved 9 refrigerator ingredients for user_id=66, time=0.05s
INFO 2025-05-15 00:43:18,043 basehttp 32304 14492 "GET /api/refrigerator/ HTTP/1.1" 200 5304
INFO 2025-05-15 00:43:18,163 recipe 32304 14492 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:43:18,380 basehttp 32304 14492 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:43:18,524 recipe 32304 14492 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:43:18,638 basehttp 32304 14492 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:43:18,748 basehttp 32304 14492 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-15 00:43:18,837 ingredient 32304 14492 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:43:18,885 ingredient 32304 14492 Retrieved 9 refrigerator ingredients for user_id=66, time=0.05s
INFO 2025-05-15 00:43:18,968 basehttp 32304 14492 "GET /api/refrigerator/ HTTP/1.1" 200 5304
INFO 2025-05-15 00:43:19,082 allergen 32304 14492 Listing user allergens: user_id=66
INFO 2025-05-15 00:43:19,093 allergen 32304 14492 Retrieved 1 user allergens, user_id=66, time=0.01s
INFO 2025-05-15 00:43:19,131 basehttp 32304 14492 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-15 00:43:19,225 equipment 32304 14492 Listing user equipment: user_id=66
INFO 2025-05-15 00:43:19,238 equipment 32304 14492 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-15 00:43:19,290 basehttp 32304 14492 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-15 00:43:19,506 basehttp 32304 14492 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:43:19,579 shopping_list 32304 14492 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 00:43:19,614 basehttp 32304 14492 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:43:23,879 ingredient 32304 14492 Getting refrigerator categories: user_id=66
INFO 2025-05-15 00:43:23,886 ingredient 32304 14492 Found 7 categories in refrigerator for user_id=66, time=0.01s
INFO 2025-05-15 00:43:23,897 basehttp 32304 14492 "GET /api/refrigerator/categories/ HTTP/1.1" 200 1128
INFO 2025-05-15 00:43:26,463 basehttp 32304 14492 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:43:26,527 shopping_list 32304 14492 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:43:26,542 basehttp 32304 14492 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:43:44,447 basehttp 32304 2092 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:43:44,524 shopping_list 32304 2092 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:43:44,549 basehttp 32304 2092 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
WARNING 2025-05-15 00:44:12,989 basehttp 32304 23868 "GET /api/shopping-list/ HTTP/1.1" 401 82
INFO 2025-05-15 00:44:13,773 views 32304 11472 Registration attempt: email=test_kdez4s0g@example.com
INFO 2025-05-15 00:44:14,108 views 32304 11472 User registered successfully: user_id=119, email=test_kdez4s0g@example.com, time=0.34s
INFO 2025-05-15 00:44:14,130 basehttp 32304 11472 "POST /api/users/register/ HTTP/1.1" 201 233
INFO 2025-05-15 00:44:14,194 views 32304 2112 Login attempt: email=test_kdez4s0g@example.com
INFO 2025-05-15 00:44:14,447 views 32304 2112 User login successful: user_id=119, email=test_kdez4s0g@example.com, time=0.25s
INFO 2025-05-15 00:44:14,462 basehttp 32304 2112 "POST /api/users/login/ HTTP/1.1" 200 233
INFO 2025-05-15 00:44:14,535 views 32304 31764 Profile accessed: user_id=119
INFO 2025-05-15 00:44:14,549 basehttp 32304 31764 "GET /api/users/profile/ HTTP/1.1" 200 173
INFO 2025-05-15 00:44:14,657 ingredient 32304 32296 Listing refrigerator ingredients: user_id=119
INFO 2025-05-15 00:44:14,666 ingredient 32304 32296 Retrieved 0 refrigerator ingredients for user_id=119, time=0.01s
INFO 2025-05-15 00:44:14,684 basehttp 32304 32296 "GET /api/refrigerator/ HTTP/1.1" 200 80
INFO 2025-05-15 00:44:14,764 basehttp 32304 7408 "GET /api/favorites/ HTTP/1.1" 200 2
INFO 2025-05-15 00:44:14,829 allergen 32304 1944 Listing all allergens: user_id=119
INFO 2025-05-15 00:44:14,831 allergen 32304 1944 Retrieved unknown allergens, user_id=119, time=0.00s
INFO 2025-05-15 00:44:14,842 basehttp 32304 1944 "GET /api/allergens/ HTTP/1.1" 200 2058
INFO 2025-05-15 00:44:14,906 equipment 32304 20184 Listing all equipment: user_id=119
INFO 2025-05-15 00:44:14,910 equipment 32304 20184 Retrieved unknown equipment items, user_id=119, time=0.00s
INFO 2025-05-15 00:44:14,923 basehttp 32304 20184 "GET /api/equipment/ HTTP/1.1" 200 15147
INFO 2025-05-15 00:44:14,981 views 32304 1652 Logout attempt: user_id=119
INFO 2025-05-15 00:44:14,990 views 32304 1652 User logged out successfully: user_id=119
INFO 2025-05-15 00:44:15,001 basehttp 32304 1652 "POST /api/users/logout/ HTTP/1.1" 200 16
INFO 2025-05-15 00:44:25,961 views 32304 23868 Login attempt: email=w0rkma1lmoc@gmail.com
WARNING 2025-05-15 00:44:26,193 views 32304 23868 Failed login attempt: email=w0rkma1lmoc@gmail.com, time=0.23s
WARNING 2025-05-15 00:44:26,205 basehttp 32304 23868 "POST /api/users/login/ HTTP/1.1" 401 54
INFO 2025-05-15 00:44:33,991 views 32304 23868 Login attempt: email=w0rkma1lmoc@gmail.com
INFO 2025-05-15 00:44:34,255 views 32304 23868 User login successful: user_id=66, email=w0rkma1lmoc@gmail.com, time=0.26s
INFO 2025-05-15 00:44:34,266 basehttp 32304 23868 "POST /api/users/login/ HTTP/1.1" 200 213
INFO 2025-05-15 00:44:34,329 ingredient 32304 23868 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:44:34,343 basehttp 32304 23868 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:44:34,439 views 32304 23868 Profile accessed: user_id=66
INFO 2025-05-15 00:44:34,448 basehttp 32304 23868 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 00:44:34,532 allergen 32304 23868 Listing all allergens: user_id=66
INFO 2025-05-15 00:44:34,537 allergen 32304 23868 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:44:34,546 basehttp 32304 23868 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 00:44:34,626 equipment 32304 23868 Listing all equipment: user_id=66
INFO 2025-05-15 00:44:34,629 equipment 32304 23868 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-15 00:44:34,638 basehttp 32304 23868 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 00:44:34,733 recipe 32304 23868 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 00:44:34,907 basehttp 32304 23868 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 00:44:35,072 basehttp 32304 23868 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-15 00:44:35,133 ingredient 32304 23868 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 00:44:35,167 ingredient 32304 23868 Retrieved 9 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-15 00:44:35,214 basehttp 32304 23868 "GET /api/refrigerator/ HTTP/1.1" 200 5304
INFO 2025-05-15 00:44:35,404 allergen 32304 23868 Listing all allergens: user_id=66
INFO 2025-05-15 00:44:35,407 allergen 32304 23868 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 00:44:35,416 basehttp 32304 23868 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 00:44:35,498 equipment 32304 23868 Listing all equipment: user_id=66
INFO 2025-05-15 00:44:35,501 equipment 32304 23868 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-15 00:44:35,511 basehttp 32304 23868 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 00:44:35,603 allergen 32304 23868 Listing user allergens: user_id=66
INFO 2025-05-15 00:44:35,608 allergen 32304 23868 Retrieved 1 user allergens, user_id=66, time=0.01s
INFO 2025-05-15 00:44:35,619 basehttp 32304 23868 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-15 00:44:41,784 basehttp 32304 23868 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:44:41,882 basehttp 32304 23868 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:44:41,931 shopping_list 32304 23868 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:44:41,950 basehttp 32304 23868 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:44:55,550 basehttp 32304 23868 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:44:55,592 shopping_list 32304 23868 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:44:55,609 basehttp 32304 23868 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 502
INFO 2025-05-15 00:45:29,926 basehttp 32304 28028 "GET /api/shopping-list/ HTTP/1.1" 200 504
INFO 2025-05-15 00:45:30,004 shopping_list 32304 28028 Adding item to shopping list: user_id=66
INFO 2025-05-15 00:45:30,016 shopping_list 32304 28028 Added new item to shopping list: item_id=255, type='Картофель', quantity=5 pieces, user_id=66, time=0.01s
INFO 2025-05-15 00:45:30,034 basehttp 32304 28028 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 243
INFO 2025-05-15 00:45:30,183 basehttp 32304 28028 "GET /api/shopping-list/ HTTP/1.1" 200 748
INFO 2025-05-15 00:45:30,278 shopping_list 32304 28028 Retrieved 3 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:45:30,296 basehttp 32304 28028 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 746
INFO 2025-05-15 00:45:52,733 views 32304 14596 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-15 00:46:05,422 views 32304 14596 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-15 00:46:05,428 views 32304 14596 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-15 00:46:05,428 ai_helper 32304 14596 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-15 00:46:05,744 ai_helper 32304 14596 Клиент OpenAI успешно инициализирован, время: 0.32s
INFO 2025-05-15 00:46:05,745 ai_helper 32304 14596 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-15 00:46:07,236 ai_helper 32304 14596 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница'], время: 1.49s
INFO 2025-05-15 00:46:07,236 views 32304 14596 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.50s
INFO 2025-05-15 00:46:07,250 basehttp 32304 14596 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1165
INFO 2025-05-15 00:46:08,398 ingredient 32304 14596 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:46:08,414 basehttp 32304 14596 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:46:11,986 ingredient 32304 14596 Creating new ingredient: user_id=66, data={'ing_name': 'Вафли Черноморские Топ Спартак', 'ing_exp_date': '2025-05-22', 'ing_weight': 100, 'ing_calories': 520, 'ing_protein': 6, 'ing_fat': 29, 'ing_hydrates': 60, 'ing_igt_id': 94, 'allergen_ids': [3, 4, 8]}
INFO 2025-05-15 00:46:12,024 ingredient 32304 14596 Ingredient created successfully: ingredient_id=137, name='Вафли Черноморские Топ Спартак', type_id=94, user_id=66, time=0.04s
INFO 2025-05-15 00:46:12,070 basehttp 32304 14596 "POST /api/ingredients/ HTTP/1.1" 201 231
INFO 2025-05-15 00:46:12,187 ingredient 32304 14596 Adding ingredient to refrigerator: user_id=66
INFO 2025-05-15 00:46:12,197 ingredient 32304 14596 Ingredient added to refrigerator: ingredient_id=137, name='Вафли Черноморские Топ Спартак', quantity=87 grams, user_id=66, time=0.01s
INFO 2025-05-15 00:46:12,225 basehttp 32304 14596 "POST /api/refrigerator/ HTTP/1.1" 201 622
INFO 2025-05-15 00:46:14,919 basehttp 32304 14596 "GET /api/shopping-list/ HTTP/1.1" 200 748
INFO 2025-05-15 00:46:14,978 shopping_list 32304 14596 Retrieved 3 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:46:15,001 basehttp 32304 14596 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 746
INFO 2025-05-15 00:47:54,731 shopping_list 32304 11220 Removing item from shopping list: item_id=253, user_id=66
INFO 2025-05-15 00:47:54,740 shopping_list 32304 11220 Item removed from shopping list: item_id=253, type='Артишок', user_id=66, time=0.01s
INFO 2025-05-15 00:47:54,759 basehttp 32304 11220 "POST /api/shopping-list/0/remove_item/ HTTP/1.1" 204 0
INFO 2025-05-15 00:47:54,825 shopping_list 32304 11220 Removing item from shopping list: item_id=254, user_id=66
INFO 2025-05-15 00:47:54,835 shopping_list 32304 11220 Item removed from shopping list: item_id=254, type='Вафли', user_id=66, time=0.01s
INFO 2025-05-15 00:47:54,853 basehttp 32304 11220 "POST /api/shopping-list/0/remove_item/ HTTP/1.1" 204 0
INFO 2025-05-15 00:47:58,969 shopping_list 32304 11220 Clearing all items from shopping list: user_id=66
INFO 2025-05-15 00:47:58,976 shopping_list 32304 11220 Cleared all 1 items from shopping list: user_id=66, time=0.01s
INFO 2025-05-15 00:47:58,992 basehttp 32304 11220 "POST /api/shopping-list/0/clear_all/ HTTP/1.1" 200 19
INFO 2025-05-15 00:48:35,743 basehttp 32304 29380 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-15 00:48:35,807 shopping_list 32304 29380 Adding item to shopping list: user_id=66
INFO 2025-05-15 00:48:35,818 shopping_list 32304 29380 Added new item to shopping list: item_id=256, type='Молоко', quantity=1 liters, user_id=66, time=0.01s
INFO 2025-05-15 00:48:35,843 basehttp 32304 29380 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 238
INFO 2025-05-15 00:48:35,953 basehttp 32304 29380 "GET /api/shopping-list/ HTTP/1.1" 200 264
INFO 2025-05-15 00:48:36,025 shopping_list 32304 29380 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:48:36,044 basehttp 32304 29380 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 262
INFO 2025-05-15 00:48:39,202 ingredient 32304 29380 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 00:48:39,224 basehttp 32304 29380 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 00:48:40,504 basehttp 32304 29380 "GET /api/shopping-list/ HTTP/1.1" 200 264
INFO 2025-05-15 00:48:40,567 shopping_list 32304 29380 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:48:40,586 basehttp 32304 29380 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 262
INFO 2025-05-15 00:53:10,742 shopping_list 32304 23112 Removing item from shopping list: item_id=256, user_id=66
INFO 2025-05-15 00:53:10,749 shopping_list 32304 23112 Item removed from shopping list: item_id=256, type='Молоко', user_id=66, time=0.01s
INFO 2025-05-15 00:53:10,768 basehttp 32304 23112 "POST /api/shopping-list/0/remove_item/ HTTP/1.1" 204 0
INFO 2025-05-15 00:53:36,914 basehttp 32304 13752 "GET /api/shopping-list/ HTTP/1.1" 200 26
INFO 2025-05-15 00:53:36,974 shopping_list 32304 13752 Adding item to shopping list: user_id=66
INFO 2025-05-15 00:53:36,986 shopping_list 32304 13752 Added new item to shopping list: item_id=257, type='Молоко', quantity=900 milliliters, user_id=66, time=0.01s
INFO 2025-05-15 00:53:37,008 basehttp 32304 13752 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 245
INFO 2025-05-15 00:53:37,152 basehttp 32304 13752 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 00:53:37,215 shopping_list 32304 13752 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:53:37,234 basehttp 32304 13752 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 00:53:55,499 basehttp 32304 23056 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 00:53:55,559 shopping_list 32304 23056 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 00:53:55,577 basehttp 32304 23056 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 00:53:56,945 basehttp 32304 23056 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 00:53:57,001 shopping_list 32304 23056 Retrieved 1 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 00:53:57,022 basehttp 32304 23056 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:06:03,209 views 32304 14460 Profile accessed: user_id=66
INFO 2025-05-15 01:06:03,224 basehttp 32304 14460 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 01:06:03,315 ingredient 32304 14460 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:06:03,330 basehttp 32304 14460 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:06:03,440 views 32304 14460 Profile accessed: user_id=66
INFO 2025-05-15 01:06:03,452 basehttp 32304 14460 "GET /api/users/profile/ HTTP/1.1" 200 153
INFO 2025-05-15 01:06:03,594 allergen 32304 14460 Listing all allergens: user_id=66
INFO 2025-05-15 01:06:03,599 allergen 32304 14460 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-15 01:06:03,612 basehttp 32304 14460 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-15 01:06:03,687 equipment 32304 14460 Listing all equipment: user_id=66
INFO 2025-05-15 01:06:03,692 equipment 32304 14460 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-15 01:06:03,705 basehttp 32304 14460 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-15 01:06:03,781 ingredient 32304 14460 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 01:06:03,834 ingredient 32304 14460 Retrieved 10 refrigerator ingredients for user_id=66, time=0.05s
INFO 2025-05-15 01:06:03,866 basehttp 32304 14460 "GET /api/refrigerator/ HTTP/1.1" 200 5929
INFO 2025-05-15 01:06:03,983 recipe 32304 14460 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 01:06:04,239 basehttp 32304 14460 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 01:06:04,314 recipe 32304 14460 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-15 01:06:04,481 basehttp 32304 14460 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20084
INFO 2025-05-15 01:06:05,254 basehttp 32304 14460 "GET /api/favorites/ HTTP/1.1" 200 1688
INFO 2025-05-15 01:06:05,323 ingredient 32304 14460 Listing refrigerator ingredients: user_id=66
INFO 2025-05-15 01:06:05,365 ingredient 32304 14460 Retrieved 10 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-15 01:06:05,432 basehttp 32304 14460 "GET /api/refrigerator/ HTTP/1.1" 200 5929
INFO 2025-05-15 01:06:05,503 allergen 32304 14460 Listing user allergens: user_id=66
INFO 2025-05-15 01:06:05,508 allergen 32304 14460 Retrieved 1 user allergens, user_id=66, time=0.00s
INFO 2025-05-15 01:06:05,525 basehttp 32304 14460 "GET /api/user-allergens/ HTTP/1.1" 200 40
INFO 2025-05-15 01:06:05,644 equipment 32304 14460 Listing user equipment: user_id=66
INFO 2025-05-15 01:06:05,650 equipment 32304 14460 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-15 01:06:05,670 basehttp 32304 14460 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-15 01:06:05,779 basehttp 32304 14460 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:06:05,866 shopping_list 32304 14460 Retrieved 1 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 01:06:05,893 basehttp 32304 14460 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:06:08,561 basehttp 32304 14460 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:06:08,622 shopping_list 32304 14460 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:06:08,640 basehttp 32304 14460 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:06:26,671 basehttp 32304 25000 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:06:26,779 shopping_list 32304 25000 Adding item to shopping list: user_id=66
INFO 2025-05-15 01:06:26,792 shopping_list 32304 25000 Added new item to shopping list: item_id=258, type='Картофель', quantity=1000 grams, user_id=66, time=0.02s
INFO 2025-05-15 01:06:26,816 basehttp 32304 25000 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 245
INFO 2025-05-15 01:06:26,999 basehttp 32304 25000 "GET /api/shopping-list/ HTTP/1.1" 200 517
INFO 2025-05-15 01:06:27,237 shopping_list 32304 25000 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:06:27,268 basehttp 32304 25000 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 515
INFO 2025-05-15 01:06:31,816 ingredient 32304 25000 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:06:31,837 basehttp 32304 25000 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:06:50,975 ingredient 32304 23632 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:06:50,990 basehttp 32304 23632 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:06:54,307 ingredient 32304 23632 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:06:54,321 basehttp 32304 23632 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:06:59,179 ingredient 32304 23632 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:06:59,196 basehttp 32304 23632 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:07:00,856 ingredient 32304 23632 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-15 01:07:00,871 basehttp 32304 23632 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-15 01:07:02,443 ingredient 32304 23632 Creating new ingredient: user_id=66, data={'ing_name': 'Картошка мытая', 'ing_exp_date': '2025-05-16', 'ing_weight': 100, 'ing_calories': 5, 'ing_protein': 0, 'ing_fat': 0, 'ing_hydrates': 0, 'ing_igt_id': 6, 'allergen_ids': []}
INFO 2025-05-15 01:07:02,455 ingredient 32304 23632 Ingredient created successfully: ingredient_id=138, name='Картошка мытая', type_id=6, user_id=66, time=0.01s
INFO 2025-05-15 01:07:02,471 basehttp 32304 23632 "POST /api/ingredients/ HTTP/1.1" 201 196
INFO 2025-05-15 01:07:02,572 ingredient 32304 23632 Adding ingredient to refrigerator: user_id=66
INFO 2025-05-15 01:07:02,593 ingredient 32304 23632 Ingredient added to refrigerator: ingredient_id=138, name='Картошка мытая', quantity=500 milliliters, user_id=66, time=0.02s
INFO 2025-05-15 01:07:02,633 basehttp 32304 23632 "POST /api/refrigerator/ HTTP/1.1" 201 488
INFO 2025-05-15 01:07:02,837 basehttp 32304 23632 "GET /api/shopping-list/ HTTP/1.1" 200 517
INFO 2025-05-15 01:07:02,978 shopping_list 32304 23632 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 01:07:03,006 basehttp 32304 23632 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 515
INFO 2025-05-15 01:07:06,525 shopping_list 32304 23632 Removing item from shopping list: item_id=258, user_id=66
INFO 2025-05-15 01:07:06,534 shopping_list 32304 23632 Item removed from shopping list: item_id=258, type='Картофель', user_id=66, time=0.01s
INFO 2025-05-15 01:07:06,551 basehttp 32304 23632 "POST /api/shopping-list/0/remove_item/ HTTP/1.1" 204 0
INFO 2025-05-15 01:07:35,349 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:35,411 shopping_list 32304 436 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:35,430 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:07:39,886 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:39,948 shopping_list 32304 436 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:39,967 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:07:41,125 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:41,188 shopping_list 32304 436 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:41,214 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:07:41,914 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:41,974 shopping_list 32304 436 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:41,993 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:07:43,087 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:43,155 shopping_list 32304 436 Retrieved 1 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:43,174 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 269
INFO 2025-05-15 01:07:57,479 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 271
INFO 2025-05-15 01:07:57,604 shopping_list 32304 436 Adding item to shopping list: user_id=66
INFO 2025-05-15 01:07:57,613 shopping_list 32304 436 Added new item to shopping list: item_id=259, type='Уксус', quantity=1 liters, user_id=66, time=0.01s
INFO 2025-05-15 01:07:57,639 basehttp 32304 436 "POST /api/shopping-list/0/add_item/ HTTP/1.1" 201 237
INFO 2025-05-15 01:07:57,806 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 509
INFO 2025-05-15 01:07:57,928 shopping_list 32304 436 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 01:07:57,948 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 507
INFO 2025-05-15 01:07:59,025 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 509
INFO 2025-05-15 01:07:59,163 shopping_list 32304 436 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:07:59,184 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 507
INFO 2025-05-15 01:08:00,535 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 509
INFO 2025-05-15 01:08:00,586 shopping_list 32304 436 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 01:08:00,608 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 507
INFO 2025-05-15 01:08:01,649 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 509
INFO 2025-05-15 01:08:01,700 shopping_list 32304 436 Retrieved 2 shopping list items for user_id=66, time=0.00s
INFO 2025-05-15 01:08:01,720 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 507
INFO 2025-05-15 01:08:02,241 basehttp 32304 436 "GET /api/shopping-list/ HTTP/1.1" 200 509
INFO 2025-05-15 01:08:02,301 shopping_list 32304 436 Retrieved 2 shopping list items for user_id=66, time=0.01s
INFO 2025-05-15 01:08:02,321 basehttp 32304 436 "GET /api/shopping-list/0/items/ HTTP/1.1" 200 507
