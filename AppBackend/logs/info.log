INFO 2025-05-13 23:42:01,389 autoreload 29344 20336 Watching for file changes with StatReloader
INFO 2025-05-13 23:42:02,617 wsgi 29344 3836 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-13 23:42:02,617 wsgi 29344 3836 Environment: config.settings
INFO 2025-05-13 23:42:02,617 wsgi 29344 3836 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-13 23:42:02,620 wsgi 29344 3836 Application initialized successfully
INFO 2025-05-13 23:42:24,438 views 29344 18652 {'name': 'Вафли Черноморские Топ Спартак', 'image_url': 'https://io.activecloud.com/static-green-market/1400x1400-1311529.jpg?id=1573&version=2', 'weight': '87г', 'protein': '5.5 г', 'fat': '29 г', 'carbs': '60 г', 'calories': '520 ккал', 'ingredients': 'Сахарная пудра, мука пшеничная первого сорта, жир кондитерский, какао-порошок, сыворотка молочная сухая, молоко сухое (массовая доля жира 25%), яичный порошок, соль поваренная пищевая йодированная, сода пищевая (натрий двууглекислый), эмульгатор (лецитин), эмульгатор ПАВ (паста для сбивания), ароматизатор «Шоколад», ароматизатор «Ванилин»', 'store': 'green'}
INFO 2025-05-13 23:42:24,470 views 29344 18652 Ingredient types: <QuerySet [<IngredientType: Carrot>, <IngredientType: Tomato>, <IngredientType: Cucumber>, <IngredientType: Broccoli>, <IngredientType: Spinach>, <IngredientType: Potato>, <IngredientType: Bell Pepper>, <IngredientType: Zucchini>, <IngredientType: Garlic>, <IngredientType: Onion>, <IngredientType: Cauliflower>, <IngredientType: Pumpkin>, <IngredientType: Eggplant>, <IngredientType: Mushroom>, <IngredientType: Lettuce>, <IngredientType: Radish>, <IngredientType: Beetroot>, <IngredientType: Peas>, <IngredientType: Asparagus>, <IngredientType: Kale>, '...(remaining elements truncated)...']>
INFO 2025-05-13 23:42:24,473 views 29344 18652 Allergens: <QuerySet [<Allergen: Peanut>, <Allergen: Tree Nut>, <Allergen: Milk>, <Allergen: Egg>, <Allergen: Fish>, <Allergen: Shellfish>, <Allergen: Soy>, <Allergen: Wheat>, <Allergen: Gluten>, <Allergen: Sesame>, <Allergen: Mustard>, <Allergen: Celery>, <Allergen: Lupin>, <Allergen: Corn>, <Allergen: Coconut>, <Allergen: Almond>, <Allergen: Hazelnut>, <Allergen: Walnut>, <Allergen: Pistachio>, <Allergen: Cashew>, '...(remaining elements truncated)...']>
INFO 2025-05-13 23:42:24,721 basehttp 29344 18652 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1012
INFO 2025-05-13 23:54:51,976 autoreload 29344 20336 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\prompts.py changed, reloading.
INFO 2025-05-13 23:54:52,915 autoreload 28200 18720 Watching for file changes with StatReloader
INFO 2025-05-13 23:54:53,910 wsgi 28200 25364 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-13 23:54:53,910 wsgi 28200 25364 Environment: config.settings
INFO 2025-05-13 23:54:53,910 wsgi 28200 25364 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-13 23:54:53,913 wsgi 28200 25364 Application initialized successfully
INFO 2025-05-13 23:55:06,834 autoreload 28200 18720 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py changed, reloading.
INFO 2025-05-13 23:55:07,839 autoreload 28720 20396 Watching for file changes with StatReloader
INFO 2025-05-13 23:55:09,085 wsgi 28720 32648 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-13 23:55:09,085 wsgi 28720 32648 Environment: config.settings
INFO 2025-05-13 23:55:09,085 wsgi 28720 32648 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-13 23:55:09,091 wsgi 28720 32648 Application initialized successfully
INFO 2025-05-13 23:55:21,972 autoreload 28720 20396 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\views.py changed, reloading.
INFO 2025-05-13 23:55:23,024 autoreload 32608 20672 Watching for file changes with StatReloader
INFO 2025-05-13 23:55:24,439 wsgi 32608 7968 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-13 23:55:24,439 wsgi 32608 7968 Environment: config.settings
INFO 2025-05-13 23:55:24,441 wsgi 32608 7968 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-13 23:55:24,445 wsgi 32608 7968 Application initialized successfully
INFO 2025-05-13 23:55:36,952 autoreload 19228 25172 Watching for file changes with StatReloader
INFO 2025-05-13 23:55:37,865 wsgi 19228 12368 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-13 23:55:37,865 wsgi 19228 12368 Environment: config.settings
INFO 2025-05-13 23:55:37,865 wsgi 19228 12368 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-13 23:55:37,868 wsgi 19228 12368 Application initialized successfully
INFO 2025-05-13 23:55:46,857 views 19228 24904 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-13 23:55:59,695 views 19228 24904 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-13 23:55:59,717 views 19228 24904 Получено 93 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-13 23:55:59,717 ai_helper 19228 24904 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/, deployment: gpt-35-turbo
INFO 2025-05-13 23:55:59,930 ai_helper 19228 24904 Клиент OpenAI успешно инициализирован, время: 0.21s
INFO 2025-05-13 23:55:59,930 ai_helper 19228 24904 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
ERROR 2025-05-13 23:55:59,931 ai_helper 19228 24904 Ошибка при классификации продукта 'Вафли Черноморские Топ Спартак': '\n  "ingredient_type_id"'
Traceback (most recent call last):
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py", line 86, in classify_product
    prompt = PRODUCT_CLASSIFICATION_PROMPT.format(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: '\n  "ingredient_type_id"'
INFO 2025-05-13 23:55:59,932 views 19228 24904 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 13.07s
INFO 2025-05-13 23:55:59,959 basehttp 19228 24904 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1012
INFO 2025-05-14 00:00:50,252 autoreload 19228 25172 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\prompts.py changed, reloading.
INFO 2025-05-14 00:00:50,864 autoreload 6932 19968 Watching for file changes with StatReloader
INFO 2025-05-14 00:00:51,820 wsgi 6932 22040 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:00:51,820 wsgi 6932 22040 Environment: config.settings
INFO 2025-05-14 00:00:51,821 wsgi 6932 22040 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:00:51,824 wsgi 6932 22040 Application initialized successfully
INFO 2025-05-14 00:00:59,124 autoreload 18764 10216 Watching for file changes with StatReloader
INFO 2025-05-14 00:01:00,054 wsgi 18764 20740 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:01:00,055 wsgi 18764 20740 Environment: config.settings
INFO 2025-05-14 00:01:00,055 wsgi 18764 20740 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:01:00,057 wsgi 18764 20740 Application initialized successfully
INFO 2025-05-14 00:01:06,811 views 18764 29004 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 00:01:18,752 views 18764 29004 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 00:01:18,782 views 18764 29004 Получено 93 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 00:01:18,783 ai_helper 18764 29004 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/, deployment: gpt-35-turbo
INFO 2025-05-14 00:01:18,995 ai_helper 18764 29004 Клиент OpenAI успешно инициализирован, время: 0.21s
INFO 2025-05-14 00:01:18,995 ai_helper 18764 29004 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
ERROR 2025-05-14 00:01:18,997 ai_helper 18764 29004 Ошибка при классификации продукта 'Вафли Черноморские Топ Спартак': '\n  "ingredient_type_id"'
Traceback (most recent call last):
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py", line 86, in classify_product
    prompt = PRODUCT_CLASSIFICATION_PROMPT.format(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: '\n  "ingredient_type_id"'
INFO 2025-05-14 00:01:19,000 views 18764 29004 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 12.19s
INFO 2025-05-14 00:01:19,027 basehttp 18764 29004 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1012
INFO 2025-05-14 00:03:09,195 autoreload 18764 10216 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\prompts.py changed, reloading.
INFO 2025-05-14 00:03:09,845 autoreload 20980 25656 Watching for file changes with StatReloader
INFO 2025-05-14 00:03:10,809 wsgi 20980 21768 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:03:10,809 wsgi 20980 21768 Environment: config.settings
INFO 2025-05-14 00:03:10,810 wsgi 20980 21768 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:03:10,813 wsgi 20980 21768 Application initialized successfully
INFO 2025-05-14 00:03:17,288 autoreload 3920 13472 Watching for file changes with StatReloader
INFO 2025-05-14 00:03:18,258 wsgi 3920 5328 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:03:18,258 wsgi 3920 5328 Environment: config.settings
INFO 2025-05-14 00:03:18,258 wsgi 3920 5328 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:03:18,262 wsgi 3920 5328 Application initialized successfully
INFO 2025-05-14 00:03:23,036 views 3920 29092 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 00:03:38,213 views 3920 29092 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 00:03:38,241 views 3920 29092 Получено 93 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 00:03:38,242 ai_helper 3920 29092 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/, deployment: gpt-35-turbo
INFO 2025-05-14 00:03:38,455 ai_helper 3920 29092 Клиент OpenAI успешно инициализирован, время: 0.21s
INFO 2025-05-14 00:03:38,455 ai_helper 3920 29092 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
ERROR 2025-05-14 00:03:39,501 ai_helper 3920 29092 Ошибка при классификации продукта 'Вафли Черноморские Топ Спартак': Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
Traceback (most recent call last):
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py", line 96, in classify_product
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\.venv\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\.venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
           ^^^^^^^^^^^
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\.venv\Lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\.venv\Lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}
INFO 2025-05-14 00:03:39,504 views 3920 29092 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 16.47s
INFO 2025-05-14 00:03:39,529 basehttp 3920 29092 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1012
INFO 2025-05-14 00:10:09,799 autoreload 3920 13472 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py changed, reloading.
INFO 2025-05-14 00:10:10,772 autoreload 24668 18036 Watching for file changes with StatReloader
INFO 2025-05-14 00:10:11,769 wsgi 24668 30860 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:10:11,769 wsgi 24668 30860 Environment: config.settings
INFO 2025-05-14 00:10:11,769 wsgi 24668 30860 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:10:11,773 wsgi 24668 30860 Application initialized successfully
INFO 2025-05-14 00:10:17,602 views 24668 17012 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 00:10:30,327 views 24668 17012 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 00:10:30,361 views 24668 17012 Получено 93 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 00:10:30,361 ai_helper 24668 17012 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 00:10:30,575 ai_helper 24668 17012 Клиент OpenAI успешно инициализирован, время: 0.21s
INFO 2025-05-14 00:10:30,575 ai_helper 24668 17012 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
ERROR 2025-05-14 00:10:32,420 ai_helper 24668 17012 Ошибка при классификации продукта 'Вафли Черноморские Топ Спартак': Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py", line 112, in classify_product
    classification = json.loads(result)
                     ^^^^^^^^^^^^^^^^^^
  File "C:\Users\artem\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\artem\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\artem\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 356, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
INFO 2025-05-14 00:10:32,445 views 24668 17012 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.84s
INFO 2025-05-14 00:10:32,470 basehttp 24668 17012 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1012
INFO 2025-05-14 00:19:07,047 autoreload 24668 18036 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\ai_helper.py changed, reloading.
INFO 2025-05-14 00:19:08,182 autoreload 25228 22824 Watching for file changes with StatReloader
INFO 2025-05-14 00:19:09,246 wsgi 25228 30576 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:19:09,246 wsgi 25228 30576 Environment: config.settings
INFO 2025-05-14 00:19:09,247 wsgi 25228 30576 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:19:09,249 wsgi 25228 30576 Application initialized successfully
INFO 2025-05-14 00:19:14,288 autoreload 29560 9936 Watching for file changes with StatReloader
INFO 2025-05-14 00:19:15,250 wsgi 29560 18552 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 00:19:15,250 wsgi 29560 18552 Environment: config.settings
INFO 2025-05-14 00:19:15,251 wsgi 29560 18552 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 00:19:15,254 wsgi 29560 18552 Application initialized successfully
INFO 2025-05-14 00:19:21,967 views 29560 30148 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 00:19:34,245 views 29560 30148 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 00:19:34,268 views 29560 30148 Получено 93 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 00:19:34,269 ai_helper 29560 30148 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 00:19:34,483 ai_helper 29560 30148 Клиент OpenAI успешно инициализирован, время: 0.21s
INFO 2025-05-14 00:19:34,484 ai_helper 29560 30148 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 00:19:36,073 ai_helper 29560 30148 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Неизвестно' с аллергенами: ['Milk', 'Egg', 'Wheat'], время: 1.59s
INFO 2025-05-14 00:19:36,074 views 29560 30148 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.11s
INFO 2025-05-14 00:19:36,105 basehttp 29560 30148 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1017
INFO 2025-05-14 01:08:57,824 autoreload 14636 9536 Watching for file changes with StatReloader
INFO 2025-05-14 01:08:58,849 wsgi 14636 16252 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 01:08:58,849 wsgi 14636 16252 Environment: config.settings
INFO 2025-05-14 01:08:58,850 wsgi 14636 16252 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 01:08:58,853 wsgi 14636 16252 Application initialized successfully
INFO 2025-05-14 01:09:04,555 views 14636 20696 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 01:09:18,079 views 14636 20696 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 01:09:18,098 views 14636 20696 Получено 94 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 01:09:18,098 ai_helper 14636 20696 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 01:09:18,323 ai_helper 14636 20696 Клиент OpenAI успешно инициализирован, время: 0.22s
INFO 2025-05-14 01:09:18,324 ai_helper 14636 20696 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 01:09:19,907 ai_helper 14636 20696 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Milk', 'Egg', 'Wheat'], время: 1.58s
INFO 2025-05-14 01:09:19,907 views 14636 20696 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 15.35s
INFO 2025-05-14 01:09:19,932 basehttp 14636 20696 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1015
INFO 2025-05-14 01:31:53,437 views 14636 7928 Profile accessed: user_id=66
INFO 2025-05-14 01:31:53,451 basehttp 14636 7928 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 01:31:53,536 ingredient 14636 7928 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 01:31:53,580 basehttp 14636 7928 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 01:31:53,645 views 14636 7928 Profile accessed: user_id=66
INFO 2025-05-14 01:31:53,654 basehttp 14636 7928 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 01:31:53,739 allergen 14636 7928 Listing all allergens: user_id=66
INFO 2025-05-14 01:31:53,742 allergen 14636 7928 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 01:31:53,752 basehttp 14636 7928 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 01:31:53,884 equipment 14636 7928 Listing all equipment: user_id=66
INFO 2025-05-14 01:31:53,889 equipment 14636 7928 Retrieved unknown equipment items, user_id=66, time=0.00s
INFO 2025-05-14 01:31:53,900 basehttp 14636 7928 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 01:31:53,980 ingredient 14636 7928 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:31:54,025 ingredient 14636 7928 Retrieved 4 refrigerator ingredients for user_id=66, time=0.05s
INFO 2025-05-14 01:31:54,058 basehttp 14636 7928 "GET /api/refrigerator/ HTTP/1.1" 200 2173
INFO 2025-05-14 01:31:54,235 recipe 14636 7928 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:31:54,451 basehttp 14636 7928 "GET /api/recipes/?limit=100 HTTP/1.1" 200 17502
INFO 2025-05-14 01:31:54,548 recipe 14636 7928 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:31:54,647 basehttp 14636 7928 "GET /api/recipes/?limit=100 HTTP/1.1" 200 17502
INFO 2025-05-14 01:31:54,749 basehttp 14636 7928 "GET /api/favorites/ HTTP/1.1" 200 1063
INFO 2025-05-14 01:31:54,798 ingredient 14636 7928 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:31:54,816 ingredient 14636 7928 Retrieved 4 refrigerator ingredients for user_id=66, time=0.02s
INFO 2025-05-14 01:31:54,848 basehttp 14636 7928 "GET /api/refrigerator/ HTTP/1.1" 200 2173
INFO 2025-05-14 01:31:54,923 allergen 14636 7928 Listing user allergens: user_id=66
INFO 2025-05-14 01:31:54,931 allergen 14636 7928 Retrieved 3 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 01:31:54,946 basehttp 14636 7928 "GET /api/user-allergens/ HTTP/1.1" 200 133
INFO 2025-05-14 01:31:55,119 equipment 14636 7928 Listing user equipment: user_id=66
INFO 2025-05-14 01:31:55,127 equipment 14636 7928 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 01:31:55,140 basehttp 14636 7928 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 01:33:21,449 basehttp 14636 23972 "DELETE /api/refrigerator/326/ HTTP/1.1" 204 0
INFO 2025-05-14 01:33:21,594 ingredient 14636 23972 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:33:21,610 ingredient 14636 23972 Retrieved 3 refrigerator ingredients for user_id=66, time=0.02s
INFO 2025-05-14 01:33:21,624 basehttp 14636 23972 "GET /api/refrigerator/ HTTP/1.1" 200 1710
INFO 2025-05-14 01:33:27,758 ingredient 14636 23972 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 01:33:27,771 basehttp 14636 23972 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 01:33:39,202 ingredient 14636 23972 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 01:33:39,213 basehttp 14636 23972 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 01:33:55,116 ingredient 14636 28708 Creating new ingredient: user_id=66, data={'ing_name': 'огурец', 'ing_exp_date': '2025-05-15', 'ing_weight': 100, 'ing_calories': 0, 'ing_protein': 0, 'ing_fat': 0, 'ing_hydrates': 0, 'ing_igt_id': 3, 'allergen_ids': [8]}
INFO 2025-05-14 01:33:55,153 ingredient 14636 28708 Ingredient created successfully: ingredient_id=124, name='огурец', type_id=3, user_id=66, time=0.04s
INFO 2025-05-14 01:33:55,171 basehttp 14636 28708 "POST /api/ingredients/ HTTP/1.1" 201 181
INFO 2025-05-14 01:33:55,270 ingredient 14636 28708 Adding ingredient to refrigerator: user_id=66
INFO 2025-05-14 01:33:55,350 ingredient 14636 28708 Ingredient added to refrigerator: ingredient_id=124, name='огурец', quantity=100 grams, user_id=66, time=0.08s
INFO 2025-05-14 01:33:55,369 basehttp 14636 28708 "POST /api/refrigerator/ HTTP/1.1" 201 502
INFO 2025-05-14 01:33:55,615 ingredient 14636 28708 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:33:55,633 ingredient 14636 28708 Retrieved 4 refrigerator ingredients for user_id=66, time=0.02s
INFO 2025-05-14 01:33:55,649 basehttp 14636 28708 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 01:34:57,234 recipe 14636 15968 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:34:57,425 basehttp 14636 15968 "GET /api/recipes/?limit=100 HTTP/1.1" 200 17502
INFO 2025-05-14 01:34:57,533 recipe 14636 15968 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:34:57,632 basehttp 14636 15968 "GET /api/recipes/?limit=100 HTTP/1.1" 200 17502
INFO 2025-05-14 01:34:57,793 basehttp 14636 15968 "GET /api/favorites/ HTTP/1.1" 200 1063
INFO 2025-05-14 01:49:16,883 ingredient 14636 12128 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:49:16,907 ingredient 14636 12128 Retrieved 4 refrigerator ingredients for user_id=66, time=0.02s
INFO 2025-05-14 01:49:16,952 basehttp 14636 12128 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 01:49:17,071 ingredient 14636 12128 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 01:49:17,095 ingredient 14636 12128 Retrieved 4 refrigerator ingredients for user_id=66, time=0.02s
INFO 2025-05-14 01:49:17,116 basehttp 14636 12128 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 01:49:19,101 recipe 14636 12128 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:49:19,271 basehttp 14636 12128 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 01:49:19,342 recipe 14636 12128 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 01:49:19,476 basehttp 14636 12128 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 01:49:19,582 basehttp 14636 12128 "GET /api/favorites/ HTTP/1.1" 200 1262
INFO 2025-05-14 01:49:38,956 views 14636 27284 Profile accessed: user_id=66
INFO 2025-05-14 01:49:38,968 basehttp 14636 27284 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 01:49:39,102 allergen 14636 27284 Listing user allergens: user_id=66
INFO 2025-05-14 01:49:39,110 allergen 14636 27284 Retrieved 3 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 01:49:39,132 basehttp 14636 27284 "GET /api/user-allergens/ HTTP/1.1" 200 133
INFO 2025-05-14 01:49:39,448 equipment 14636 27284 Listing user equipment: user_id=66
INFO 2025-05-14 01:49:39,455 equipment 14636 27284 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 01:49:39,475 basehttp 14636 27284 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 01:49:39,852 equipment 14636 27284 Listing user equipment: user_id=66
INFO 2025-05-14 01:49:39,859 equipment 14636 27284 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 01:49:39,869 ingredient 14636 15432 Getting refrigerator categories: user_id=66
INFO 2025-05-14 01:49:39,875 ingredient 14636 15432 Found 4 categories in refrigerator for user_id=66, time=0.01s
INFO 2025-05-14 01:49:39,880 basehttp 14636 27284 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 01:49:39,895 basehttp 14636 15432 "GET /api/refrigerator/categories/ HTTP/1.1" 200 649
INFO 2025-05-14 02:30:40,132 autoreload 14636 9536 D:\BSUIR\Semester6\CourseWork\FoodBalancer\AppBackend\apps\core\barcode\views.py changed, reloading.
INFO 2025-05-14 02:30:42,383 autoreload 21640 27784 Watching for file changes with StatReloader
INFO 2025-05-14 02:30:44,115 wsgi 21640 30412 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 02:30:44,115 wsgi 21640 30412 Environment: config.settings
INFO 2025-05-14 02:30:44,117 wsgi 21640 30412 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 02:30:44,119 wsgi 21640 30412 Application initialized successfully
INFO 2025-05-14 02:32:35,119 autoreload 23480 20444 Watching for file changes with StatReloader
INFO 2025-05-14 02:32:36,073 wsgi 23480 18544 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 02:32:36,073 wsgi 23480 18544 Environment: config.settings
INFO 2025-05-14 02:32:36,073 wsgi 23480 18544 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 02:32:36,076 wsgi 23480 18544 Application initialized successfully
INFO 2025-05-14 02:35:06,077 views 23480 18720 Profile accessed: user_id=66
INFO 2025-05-14 02:35:06,308 basehttp 23480 18720 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:35:06,466 ingredient 23480 18720 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:35:06,531 basehttp 23480 18720 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 02:35:06,626 views 23480 18720 Profile accessed: user_id=66
INFO 2025-05-14 02:35:06,642 basehttp 23480 18720 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:35:06,775 allergen 23480 18720 Listing all allergens: user_id=66
INFO 2025-05-14 02:35:06,794 allergen 23480 18720 Retrieved unknown allergens, user_id=66, time=0.02s
INFO 2025-05-14 02:35:06,812 basehttp 23480 18720 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 02:35:06,886 equipment 23480 18720 Listing all equipment: user_id=66
INFO 2025-05-14 02:35:06,905 equipment 23480 18720 Retrieved unknown equipment items, user_id=66, time=0.02s
INFO 2025-05-14 02:35:06,920 basehttp 23480 18720 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 02:35:07,012 ingredient 23480 18720 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:35:07,071 ingredient 23480 18720 Retrieved 4 refrigerator ingredients for user_id=66, time=0.06s
INFO 2025-05-14 02:35:07,114 basehttp 23480 18720 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:35:07,212 recipe 23480 18720 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:35:07,481 basehttp 23480 18720 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:35:07,573 recipe 23480 18720 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:35:07,714 basehttp 23480 18720 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:35:07,830 basehttp 23480 18720 "GET /api/favorites/ HTTP/1.1" 200 1262
INFO 2025-05-14 02:35:07,901 ingredient 23480 18720 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:35:07,928 ingredient 23480 18720 Retrieved 4 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 02:35:07,972 basehttp 23480 18720 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:35:08,045 allergen 23480 18720 Listing user allergens: user_id=66
INFO 2025-05-14 02:35:08,068 allergen 23480 18720 Retrieved 3 user allergens, user_id=66, time=0.02s
INFO 2025-05-14 02:35:08,092 basehttp 23480 18720 "GET /api/user-allergens/ HTTP/1.1" 200 133
INFO 2025-05-14 02:35:08,184 equipment 23480 18720 Listing user equipment: user_id=66
INFO 2025-05-14 02:35:08,202 equipment 23480 18720 Retrieved 2 user equipment items, user_id=66, time=0.02s
INFO 2025-05-14 02:35:08,222 basehttp 23480 18720 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 02:35:32,159 views 23480 8236 Запрос информации по штрихкоду: 4900188399100002352
WARNING 2025-05-14 02:35:34,846 views 23480 8236 Продукт с штрихкодом 4900188399100002352 не найден
WARNING 2025-05-14 02:35:34,855 basehttp 23480 8236 "GET /api/barcode/?barcode=4900188399100002352 HTTP/1.1" 404 88
INFO 2025-05-14 02:36:34,068 views 23480 21060 Запрос информации по штрихкоду: 4900188399100002352
WARNING 2025-05-14 02:36:36,714 views 23480 21060 Продукт с штрихкодом 4900188399100002352 не найден
WARNING 2025-05-14 02:36:36,722 basehttp 23480 21060 "GET /api/barcode/?barcode=4900188399100002352 HTTP/1.1" 404 88
INFO 2025-05-14 02:36:41,294 views 23480 21060 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 02:36:54,287 views 23480 21060 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 02:36:54,305 views 23480 21060 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 02:36:54,305 ai_helper 23480 21060 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 02:36:54,543 ai_helper 23480 21060 Клиент OpenAI успешно инициализирован, время: 0.24s
INFO 2025-05-14 02:36:54,545 ai_helper 23480 21060 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 02:36:56,435 ai_helper 23480 21060 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница'], время: 1.89s
INFO 2025-05-14 02:36:56,436 views 23480 21060 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 15.14s
INFO 2025-05-14 02:36:56,449 basehttp 23480 21060 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1165
INFO 2025-05-14 02:37:17,841 views 23480 8972 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 02:37:30,224 views 23480 8972 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 02:37:30,229 views 23480 8972 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 02:37:30,229 ai_helper 23480 8972 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 02:37:30,473 ai_helper 23480 8972 Клиент OpenAI успешно инициализирован, время: 0.24s
INFO 2025-05-14 02:37:30,473 ai_helper 23480 8972 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 02:37:31,867 ai_helper 23480 8972 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница', 'Глютен'], время: 1.39s
INFO 2025-05-14 02:37:31,867 views 23480 8972 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.03s
INFO 2025-05-14 02:37:31,878 basehttp 23480 8972 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1182
INFO 2025-05-14 02:37:33,347 ingredient 23480 8972 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:37:33,360 basehttp 23480 8972 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 02:41:40,731 views 23480 4188 Profile accessed: user_id=66
INFO 2025-05-14 02:41:40,745 basehttp 23480 4188 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:41:40,998 ingredient 23480 4188 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:41:41,015 basehttp 23480 4188 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 02:41:41,185 views 23480 4188 Profile accessed: user_id=66
INFO 2025-05-14 02:41:41,198 basehttp 23480 4188 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:41:41,340 allergen 23480 4188 Listing all allergens: user_id=66
INFO 2025-05-14 02:41:41,345 allergen 23480 4188 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 02:41:41,356 basehttp 23480 4188 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 02:41:41,437 equipment 23480 4188 Listing all equipment: user_id=66
INFO 2025-05-14 02:41:41,443 equipment 23480 4188 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-14 02:41:41,457 basehttp 23480 4188 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 02:41:41,542 ingredient 23480 4188 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:41:41,572 ingredient 23480 4188 Retrieved 4 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 02:41:41,595 basehttp 23480 4188 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:41:41,724 recipe 23480 4188 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:41:41,963 basehttp 23480 4188 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:41:42,173 recipe 23480 4188 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:41:42,330 basehttp 23480 4188 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:41:42,446 basehttp 23480 4188 "GET /api/favorites/ HTTP/1.1" 200 1262
INFO 2025-05-14 02:41:42,516 ingredient 23480 4188 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:41:42,543 ingredient 23480 4188 Retrieved 4 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 02:41:42,605 basehttp 23480 4188 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:41:42,688 allergen 23480 4188 Listing user allergens: user_id=66
INFO 2025-05-14 02:41:42,695 allergen 23480 4188 Retrieved 3 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 02:41:42,715 basehttp 23480 4188 "GET /api/user-allergens/ HTTP/1.1" 200 133
INFO 2025-05-14 02:41:42,891 equipment 23480 4188 Listing user equipment: user_id=66
INFO 2025-05-14 02:41:42,898 equipment 23480 4188 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 02:41:42,918 basehttp 23480 4188 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 02:42:07,901 views 23480 912 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 02:42:20,576 views 23480 912 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 02:42:20,580 views 23480 912 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 02:42:20,581 ai_helper 23480 912 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 02:42:20,874 ai_helper 23480 912 Клиент OpenAI успешно инициализирован, время: 0.29s
INFO 2025-05-14 02:42:20,874 ai_helper 23480 912 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 02:42:22,173 ai_helper 23480 912 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница'], время: 1.30s
INFO 2025-05-14 02:42:22,173 views 23480 912 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.27s
INFO 2025-05-14 02:42:22,197 basehttp 23480 912 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1165
INFO 2025-05-14 02:42:23,661 ingredient 23480 912 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:42:23,679 basehttp 23480 912 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 02:52:39,191 views 23480 17568 Profile accessed: user_id=66
INFO 2025-05-14 02:52:39,207 basehttp 23480 17568 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:52:39,315 ingredient 23480 17568 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:52:39,330 basehttp 23480 17568 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 02:52:39,485 views 23480 17568 Profile accessed: user_id=66
INFO 2025-05-14 02:52:39,498 basehttp 23480 17568 "GET /api/users/profile/ HTTP/1.1" 200 151
INFO 2025-05-14 02:52:39,592 allergen 23480 17568 Listing all allergens: user_id=66
INFO 2025-05-14 02:52:39,596 allergen 23480 17568 Retrieved unknown allergens, user_id=66, time=0.00s
INFO 2025-05-14 02:52:39,608 basehttp 23480 17568 "GET /api/allergens/?limit=1000 HTTP/1.1" 200 2058
INFO 2025-05-14 02:52:39,686 equipment 23480 17568 Listing all equipment: user_id=66
INFO 2025-05-14 02:52:39,692 equipment 23480 17568 Retrieved unknown equipment items, user_id=66, time=0.01s
INFO 2025-05-14 02:52:39,706 basehttp 23480 17568 "GET /api/equipment/?limit=1000 HTTP/1.1" 200 15147
INFO 2025-05-14 02:52:39,795 ingredient 23480 17568 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:52:39,821 ingredient 23480 17568 Retrieved 4 refrigerator ingredients for user_id=66, time=0.03s
INFO 2025-05-14 02:52:39,844 basehttp 23480 17568 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:52:39,935 recipe 23480 17568 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:52:40,271 basehttp 23480 17568 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:52:40,355 recipe 23480 17568 Listing recipes: user_id=66, params=<QueryDict: {'limit': ['100']}>
INFO 2025-05-14 02:52:40,487 basehttp 23480 17568 "GET /api/recipes/?limit=100 HTTP/1.1" 200 20085
INFO 2025-05-14 02:52:40,845 basehttp 23480 17568 "GET /api/favorites/ HTTP/1.1" 200 1262
INFO 2025-05-14 02:52:40,930 ingredient 23480 17568 Listing refrigerator ingredients: user_id=66
INFO 2025-05-14 02:52:40,966 ingredient 23480 17568 Retrieved 4 refrigerator ingredients for user_id=66, time=0.04s
INFO 2025-05-14 02:52:41,029 basehttp 23480 17568 "GET /api/refrigerator/ HTTP/1.1" 200 2213
INFO 2025-05-14 02:52:41,134 allergen 23480 17568 Listing user allergens: user_id=66
INFO 2025-05-14 02:52:41,147 allergen 23480 17568 Retrieved 3 user allergens, user_id=66, time=0.01s
INFO 2025-05-14 02:52:41,178 basehttp 23480 17568 "GET /api/user-allergens/ HTTP/1.1" 200 133
INFO 2025-05-14 02:52:41,307 equipment 23480 17568 Listing user equipment: user_id=66
INFO 2025-05-14 02:52:41,320 equipment 23480 17568 Retrieved 2 user equipment items, user_id=66, time=0.01s
INFO 2025-05-14 02:52:41,361 basehttp 23480 17568 "GET /api/user-equipment/ HTTP/1.1" 200 432
INFO 2025-05-14 02:52:53,993 views 23480 17568 Запрос информации по штрихкоду: 4810067087007
INFO 2025-05-14 02:53:06,557 views 23480 17568 Найден продукт по штрихкоду 4810067087007: Вафли Черноморские Топ Спартак
INFO 2025-05-14 02:53:06,562 views 23480 17568 Получено 96 типов ингредиентов и 50 аллергенов из БД
INFO 2025-05-14 02:53:06,563 ai_helper 23480 17568 Инициализация AIHelper с endpoint: https://flowprompt-useast.openai.azure.com/
INFO 2025-05-14 02:53:06,851 ai_helper 23480 17568 Клиент OpenAI успешно инициализирован, время: 0.29s
INFO 2025-05-14 02:53:06,852 ai_helper 23480 17568 Начало классификации продукта: 'Вафли Черноморские Топ Спартак'
INFO 2025-05-14 02:53:08,436 ai_helper 23480 17568 Продукт 'Вафли Черноморские Топ Спартак' классифицирован как 'Вафли' с аллергенами: ['Молоко', 'Яйцо', 'Пшеница', 'Глютен'], время: 1.58s
INFO 2025-05-14 02:53:08,436 views 23480 17568 Успешно обработан запрос для штрихкода 4810067087007, время выполнения: 14.44s
INFO 2025-05-14 02:53:08,452 basehttp 23480 17568 "GET /api/barcode/?barcode=4810067087007 HTTP/1.1" 200 1182
INFO 2025-05-14 02:53:09,884 ingredient 23480 17568 Listing ingredient types: user_id=66, params=<QueryDict: {'limit': ['1000']}>
INFO 2025-05-14 02:53:09,898 basehttp 23480 17568 "GET /api/ingredient-types/?limit=1000 HTTP/1.1" 200 15563
INFO 2025-05-14 18:41:27,050 autoreload 17308 28628 Watching for file changes with StatReloader
INFO 2025-05-14 18:41:28,972 wsgi 17308 8876 ==== Starting FoodBalancer Backend Application ====
INFO 2025-05-14 18:41:28,972 wsgi 17308 8876 Environment: config.settings
INFO 2025-05-14 18:41:28,972 wsgi 17308 8876 Python version: 3.12.8 (tags/v3.12.8:2dc476b, Dec  3 2024, 19:30:04) [MSC v.1942 64 bit (AMD64)]
INFO 2025-05-14 18:41:28,977 wsgi 17308 8876 Application initialized successfully
