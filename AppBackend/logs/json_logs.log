{"timestamp": "2025-05-07T00:33:26.905255", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28040, "thread": 37056}
{"timestamp": "2025-05-07T00:33:27.091878", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 28040, "thread": 37056}
{"timestamp": "2025-05-07T00:33:27.100981", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 28040, "thread": 37056}
{"timestamp": "2025-05-07T00:33:27.523978", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 28040, "thread": 37056}
{"timestamp": "2025-05-07T00:33:27.533510", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 28040, "thread": 37056}
{"timestamp": "2025-05-07T00:36:33.997643", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28040, "thread": 24692}
{"timestamp": "2025-05-07T00:36:34.145091", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 28040, "thread": 24692}
{"timestamp": "2025-05-07T00:36:34.151885", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.01s", "module": "ingredient", "process": 28040, "thread": 24692}
{"timestamp": "2025-05-07T00:36:34.207553", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.235843", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.03s", "module": "meal_plan", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.243975", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.709906", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.717966", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 28040, "thread": 37748}
{"timestamp": "2025-05-07T00:36:34.720093", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.01s", "module": "meal_plan", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.725250", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 28040, "thread": 34536}
{"timestamp": "2025-05-07T00:36:34.730348", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.01s", "module": "ingredient", "process": 28040, "thread": 37748}
{"timestamp": "2025-05-07T00:37:33.563644", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28040, "thread": 31008}
{"timestamp": "2025-05-07T00:37:33.566647", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 28040, "thread": 24136}
{"timestamp": "2025-05-07T00:37:33.573647", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 28040, "thread": 24136}
{"timestamp": "2025-05-07T00:37:33.704659", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 28040, "thread": 24136}
{"timestamp": "2025-05-07T00:37:33.713660", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 28040, "thread": 24136}
{"timestamp": "2025-05-07T00:40:29.531859", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 35516, "thread": 8372}
{"timestamp": "2025-05-07T00:40:29.535024", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 35516, "thread": 21148}
{"timestamp": "2025-05-07T00:40:29.543669", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 35516, "thread": 8372}
{"timestamp": "2025-05-07T00:40:29.675984", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T00:40:29.714759", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 35516, "thread": 8372}
{"timestamp": "2025-05-07T00:40:29.720765", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 35516, "thread": 8372}
{"timestamp": "2025-05-07T00:40:29.806492", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 35516, "thread": 8372, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T00:40:29.845685", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T00:40:29.848702", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 35516, "thread": 8372, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T00:40:29.992681", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T00:40:30.013196", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T00:40:30.122653", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 35516, "thread": 21148}
{"timestamp": "2025-05-07T00:40:30.127654", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 35516, "thread": 21148}
{"timestamp": "2025-05-07T00:40:30.215523", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T00:40:30.240560", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 35516, "thread": 21148, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T00:41:46.745656", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:46.875328", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:46.882700", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:46.955492", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.006684", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.05s", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.156544", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.167130", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.345659", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.350693", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.432104", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:41:47.440832", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 22424}
{"timestamp": "2025-05-07T00:42:19.668696", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:19.672543", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:21.693423", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:21.697601", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:21.724125", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.782230", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:21.793562", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 12904}
{"timestamp": "2025-05-07T00:42:21.844741", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.12s", "module": "views", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.979806", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.980337", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [3, 4, 5, 2]}", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.980337", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [3, 4, 5, 2]", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.988705", "level": "INFO", "logger": "apps.core", "message": "Deleted (3, {'core.M2MUsrAlg': 3}) existing allergen records", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:21.998331", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 3", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.006214", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.011216", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.018526", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 2", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.019524", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [3, 4, 5, 2]", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.023529", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'UserAllergenViewSet' object has no attribute 'invalidate_cache'", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.024525", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 101, in update_user_allergens\n    self.invalidate_cache()\n    ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'UserAllergenViewSet' object has no attribute 'invalidate_cache'\n", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.243701", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.248214", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.410903", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:42:22.422431", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 33712, "thread": 29948}
{"timestamp": "2025-05-07T00:43:06.976580", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.104634", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.109225", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.170756", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.182279", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.285351", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.297552", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.421890", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.426249", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.533570", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:43:07.543409", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 33652}
{"timestamp": "2025-05-07T00:46:30.759443", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 8848}
{"timestamp": "2025-05-07T00:46:30.766253", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 8848}
{"timestamp": "2025-05-07T00:58:50.274831", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 33164}
{"timestamp": "2025-05-07T00:58:50.521263", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 33164}
{"timestamp": "2025-05-07T00:58:50.546329", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 7108, "thread": 34992}
{"timestamp": "2025-05-07T00:58:50.594725", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.05s", "module": "ingredient", "process": 7108, "thread": 34992}
{"timestamp": "2025-05-07T00:58:50.616403", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.10s", "module": "allergen", "process": 7108, "thread": 33164}
{"timestamp": "2025-05-07T00:58:50.621626", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 7108, "thread": 35644}
{"timestamp": "2025-05-07T00:58:50.651999", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.03s", "module": "meal_plan", "process": 7108, "thread": 35644}
{"timestamp": "2025-05-07T00:58:50.654242", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 7108, "thread": 35644}
{"timestamp": "2025-05-07T00:58:51.021325", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:51.025191", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 7108, "thread": 35644}
{"timestamp": "2025-05-07T00:58:51.029470", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.00s", "module": "ingredient", "process": 7108, "thread": 35644}
{"timestamp": "2025-05-07T00:58:51.051126", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.03s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:51.077304", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 7108, "thread": 25040}
{"timestamp": "2025-05-07T00:58:51.089543", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.01s", "module": "meal_plan", "process": 7108, "thread": 25040}
{"timestamp": "2025-05-07T00:58:51.091542", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 7108, "thread": 25040}
{"timestamp": "2025-05-07T00:58:53.824866", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.029456", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.040466", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.157137", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.163754", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.258006", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.262336", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.390536", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:54.402048", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:56.943275", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:58:56.947276", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.313896", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.409011", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.416077", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.532980", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.538389", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.643291", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.648641", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.765041", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:04.776861", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:06.535278", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:06.540621", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:07.676308", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:07.909538", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:07.913554", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.013920", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.017479", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.116354", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.123302", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.264912", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:08.277128", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 32616}
{"timestamp": "2025-05-07T00:59:30.496426", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 28236}
{"timestamp": "2025-05-07T00:59:30.501237", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 7108, "thread": 28236}
{"timestamp": "2025-05-07T01:15:33.314275", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:33.544315", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:33.559781", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 7108, "thread": 5800}
{"timestamp": "2025-05-07T01:15:33.573786", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.01s", "module": "ingredient", "process": 7108, "thread": 5800}
{"timestamp": "2025-05-07T01:15:33.588854", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:33.590855", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.05s", "module": "allergen", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:33.599985", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.01s", "module": "meal_plan", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:33.601671", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:33.946780", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 7108, "thread": 33156}
{"timestamp": "2025-05-07T01:15:33.956142", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.01s", "module": "ingredient", "process": 7108, "thread": 33156}
{"timestamp": "2025-05-07T01:15:33.959154", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:33.968888", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:33.977887", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.01s", "module": "meal_plan", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:33.981056", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 7108, "thread": 21436}
{"timestamp": "2025-05-07T01:15:34.015207", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.06s", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:36.503853", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:36.518915", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.02s", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:39.153524", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:39.158983", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:40.794210", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:40.954220", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.16s", "module": "views", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.058103", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.058103", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [3, 4, 5, 2]}", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.059103", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [3, 4, 5, 2]", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.070374", "level": "INFO", "logger": "apps.core", "message": "Deleted (4, {'core.M2MUsrAlg': 4}) existing allergen records", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.082474", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 3", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.089585", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.096400", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.101683", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 2", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.102683", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [3, 4, 5, 2]", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.115194", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:15:41.116194", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 7108, "thread": 8756}
{"timestamp": "2025-05-07T01:26:11.459193", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28236, "thread": 26804}
{"timestamp": "2025-05-07T01:26:11.704692", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 28236, "thread": 26804, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T01:26:11.729901", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:11.737861", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 28236, "thread": 22916}
{"timestamp": "2025-05-07T01:26:11.760771", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.02s", "module": "meal_plan", "process": 28236, "thread": 22916}
{"timestamp": "2025-05-07T01:26:11.764102", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 28236, "thread": 22916}
{"timestamp": "2025-05-07T01:26:11.780687", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.05s", "module": "ingredient", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:11.986641", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 28236, "thread": 26804, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T01:26:12.304490", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T01:26:12.310015", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Listing refrigerator ingredients: user_id=66", "module": "ingredient", "process": 28236, "thread": 31352}
{"timestamp": "2025-05-07T01:26:12.337556", "level": "INFO", "logger": "apps.core.refrigerator", "message": "Retrieved 0 refrigerator ingredients for user_id=66, time=0.03s", "module": "ingredient", "process": 28236, "thread": 31352}
{"timestamp": "2025-05-07T01:26:12.376053", "level": "INFO", "logger": "apps.core.meal_plan", "message": "Getting current meal plan for user_id=66, date=2025-05-07", "module": "meal_plan", "process": 28236, "thread": 26804}
{"timestamp": "2025-05-07T01:26:12.387339", "level": "WARNING", "logger": "apps.core.meal_plan", "message": "No current meal plan found for user_id=66, time=0.01s", "module": "meal_plan", "process": 28236, "thread": 26804}
{"timestamp": "2025-05-07T01:26:12.391157", "level": "ERROR", "logger": "django.request", "message": "404 Not Found: GET /api/meal-plans/current/", "module": "middleware", "process": 28236, "thread": 26804}
{"timestamp": "2025-05-07T01:26:12.431687", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T01:26:19.536251", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:19.643019", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T01:26:19.672616", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T01:26:21.871947", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:21.879441", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:25.694092", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:25.738276", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.04s", "module": "views", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:25.864605", "level": "ERROR", "logger": "django.request", "message": "Exception in POST /api/user-allergens/update/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T01:26:25.894921", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/update/", "module": "log", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T01:26:31.628983", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 28236, "thread": 13076}
{"timestamp": "2025-05-07T01:26:31.724721", "level": "ERROR", "logger": "django.request", "message": "Exception in GET /api/user-allergens/: TypeError: never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator., user_id=66, ip=192.168.100.2", "module": "middleware", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500, "user_id": 66, "ip": "192.168.100.2"}
{"timestamp": "2025-05-07T01:26:31.743724", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /api/user-allergens/", "module": "log", "process": 28236, "thread": 13076, "exception": {"type": "TypeError", "message": "never_cache didn't receive an HttpRequest. If you are decorating a classmethod, be sure to use @method_decorator."}, "status_code": 500}
{"timestamp": "2025-05-07T01:26:55.689375", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:55.697893", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.582457", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.602703", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.02s", "module": "views", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.684518", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.684518", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [4, 5, 6]}", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.684518", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [4, 5, 6]", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.696985", "level": "INFO", "logger": "apps.core", "message": "Deleted (4, {'core.M2MUsrAlg': 4}) existing allergen records", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.707733", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.715560", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.720899", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 6", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.721907", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [4, 5, 6]", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.726037", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:57.726037", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:59.207988", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:59.306950", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:26:59.317026", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 14788}
{"timestamp": "2025-05-07T01:27:41.032233", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:41.036908", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.859061", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.865561", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.01s", "module": "views", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.936146", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.937397", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [4, 5, 6, 1]}", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.937397", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [4, 5, 6, 1]", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.944939", "level": "INFO", "logger": "apps.core", "message": "Deleted (3, {'core.M2MUsrAlg': 3}) existing allergen records", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.952648", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.959413", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.966364", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 6", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.972553", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 1", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.972553", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [4, 5, 6, 1]", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.976410", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:45.976410", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:47.913322", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:48.023370", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:27:48.037107", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 34016}
{"timestamp": "2025-05-07T01:28:08.573308", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:08.651290", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:08.661705", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:10.229262", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:10.233379", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.339964", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.346360", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.01s", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.433231", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.433231", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [4, 5, 6, 1, 2]}", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.434312", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.441816", "level": "INFO", "logger": "apps.core", "message": "Deleted (4, {'core.M2MUsrAlg': 4}) existing allergen records", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.447944", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.453609", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.459535", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 6", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.465673", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 1", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.470742", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 2", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.470742", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.474247", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:12.474247", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:14.452134", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:14.528821", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:14.539788", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:18.303493", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:18.307527", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.182357", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.189564", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.01s", "module": "views", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.285775", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.286775", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [4, 5, 6, 1, 2]}", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.287381", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.294444", "level": "INFO", "logger": "apps.core", "message": "Deleted (5, {'core.M2MUsrAlg': 5}) existing allergen records", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.300961", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.308143", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.314143", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 6", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.320898", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 1", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.326754", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 2", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.326754", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.329217", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:22.329217", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 14608, "thread": 25072}
{"timestamp": "2025-05-07T01:28:42.040817", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:42.179977", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:42.194070", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:42.912386", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:43.028743", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:43.044361", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.02s", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:46.370533", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing all allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:46.374028", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved 50 allergens, user_id=66, time=0.00s", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.455847", "level": "INFO", "logger": "apps.users", "message": "Profile update attempt: user_id=66", "module": "views", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.462847", "level": "INFO", "logger": "apps.users", "message": "Profile updated successfully: user_id=66, time=0.01s", "module": "views", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.545766", "level": "INFO", "logger": "apps.core", "message": "Starting user allergens update for user ID: 66", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.546794", "level": "INFO", "logger": "apps.core", "message": "Request data: {'allergen_ids': [4, 5, 6, 1, 2]}", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.546794", "level": "INFO", "logger": "apps.core", "message": "Allergen IDs to update: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.554996", "level": "INFO", "logger": "apps.core", "message": "Deleted (5, {'core.M2MUsrAlg': 5}) existing allergen records", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.561488", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 4", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.568346", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 5", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.575679", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 6", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.580437", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 1", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.587073", "level": "INFO", "logger": "apps.core", "message": "Created allergen mapping: user 66 - allergen 2", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.587073", "level": "INFO", "logger": "apps.core", "message": "Successfully updated allergens for user 66: [4, 5, 6, 1, 2]", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.590074", "level": "ERROR", "logger": "apps.core", "message": "Error updating allergens: 'DatabaseCache' object has no attribute '_cache'", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:47.591069", "level": "ERROR", "logger": "apps.core", "message": "Traceback: Traceback (most recent call last):\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\apps\\core\\views\\allergen.py\", line 110, in update_user_allergens\n    for key in cache._cache.keys():\n               ^^^^^^^^^^^^\n  File \"D:\\BSUIR\\Semester6\\CourseWork\\FoodBalancer\\AppBackend\\.venv\\Lib\\site-packages\\django\\utils\\connection.py\", line 15, in __getattr__\n    return getattr(self._connections[self._alias], item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'DatabaseCache' object has no attribute '_cache'\n", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:48.917931", "level": "INFO", "logger": "apps.users", "message": "Profile accessed: user_id=66", "module": "views", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:48.995576", "level": "INFO", "logger": "apps.core.allergens", "message": "Listing user allergens: user_id=66", "module": "allergen", "process": 14608, "thread": 34440}
{"timestamp": "2025-05-07T01:28:49.007786", "level": "INFO", "logger": "apps.core.allergens", "message": "Retrieved unknown user allergens, user_id=66, time=0.01s", "module": "allergen", "process": 14608, "thread": 34440}
